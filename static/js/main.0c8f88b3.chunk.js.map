{"version":3,"sources":["data/index.ts","utils/colors.ts","utils/config.ts","utils/course.ts","components/Schedule/Calendar.js","store/selectors.ts","store/selectedCoursesSlice.ts","components/Schedule/ColorPicker.js","components/Schedule/SelectedCourses.js","components/Schedule/Searcher.js","components/Schedule/ExportCalendar.js","components/Schedule/ExternalExporter.js","components/Schedule/InfoBar.js","components/Schedule/index.js","components/utils/AddDropBtn.js","components/Offerings/TableView.js","components/Offerings/GalleryView.js","components/Offerings/Filter.jsx","hooks/index.ts","components/Offerings/index.js","components/Offerings/OneCourse.js","components/About/Contributors.tsx","components/utils/CTA.js","components/About/index.tsx","components/Contribute/index.tsx","components/Rooms/index.jsx","components/layout/Main.tsx","components/layout/Footer.tsx","store/termSlice.ts","utils/term.ts","components/utils/TermSwitch.js","components/layout/TopNav.tsx","components/App.js","store/index.ts","utils/localStorage.ts","index.js"],"names":["courseData","Fall2023","Spring2024","availableTerms","getTextColor","bg","backgroundColor","rgb","parseInt","slice","Math","round","getRandomColor","colorId","floor","random","COLORS","length","getRarestColor","colors","freq","forEach","color","filter","_color","ret","config","last_updated","currentTerm","MAJORS","value","label","CATEGORIES","map","s","LEVELS","level","getCourse","id","matches","reduce","courses","thisTerm","concat","course","getSchedule","schedule","day","start_time","end_time","join","getNotes","description","split","getCategories","categories","getDescription","des","indexOf","isSelected","selected","Calendar","selectedCourses","dayId","events","visible","info","blocks","block","title","instructor","daysOfWeek","startTime","endTime","textColor","getTimeblocks","plugins","timeGridPlugin","initialView","slotMinTime","slotMaxTime","scrollTime","hiddenDays","expandRows","allDaySlot","headerToolbar","start","center","end","dayHeaderFormat","weekday","selectTerm","state","term","selectCurrentTerm","selectCurrentSelectedCourseIds","includes","createSlice","name","initialState","reducers","toggleSelection","action","payload","push","toggleVisibility","console","log","setColor","actions","ColorPicker","courseId","useState","changing","setChanging","useSelector","dispatch","useDispatch","className","style","onClick","sort","onChangeComplete","hex","width","triangle","CreditCount","credits","preValue","curValue","courseInfo","val","SelectedCourses","a","b","localeCompare","to","Searcher","setFilter","focusItem","setFocusItem","matchedCourses","nVisibleCourses","collapseSuggestions","changeText","document","getElementById","handleShortcuts","event","key","useEffect","window","addEventListener","removeEventListener","text","onCourseToggle","CourseInfo","CourseList","toLowerCase","min","isFocused","placeholder","autoComplete","onChange","target","onKeyDown","time_location","short_days","num_days","downloadCalendar","cur_term_info","list_of_events","start_date_term","Date","end_date_term","each_courses","course_info","course_schedule","course_title","same_time","each_slot","start_time_day","end_time_day","each_time","meet_day","first_day","getFullYear","getMonth","getUTCDate","toISOString","first_session_start","first_session_end","repeat_date","each_meet_day","current_event","time_stamp","timezone","summary","repeating","until","byDay","cal","ical","blob","filename","link","createElement","navigator","msSaveOrOpenBlob","objectUrl","URL","createObjectURL","download","href","dispatchEvent","MouseEvent","revokeObjectURL","downloadUrl","Blob","toString","type","ExportCalendar","props","trimesterInfo","ExternalExporter","InfoBar","calendarRef","componentRef","Schedule","currentCourseSelection","useRef","Helmet","ref","AddDropBtn","preStatus","toast","success","autoClose","TableView","filteredCourses","CourseCard","GalleryView","Filter","instructors","index","self","options","isMulti","majorFilter","setMajorFilter","setInstructorFilter","instructorFilter","setLevelFilter","levelFilter","setCategoryFilter","categoryFilter","usePersistedState","defaultValue","tmp","localStorage","getItem","JSON","parse","setState","setItem","stringify","Offerings","compact","oneFilter","filterList","getDetail","manyToMany","matchers","obj","matcher","head","search","getMajor","getLevel","getFilteredCourses","role","OneCourse","useParams","OneStop","url","Row","header","content","location","Contributor","contributor","src","avatar_url","alt","html_url","login","contributions","Contributors","contributors","setContributors","axios","get","then","res","data","CTA","About","frameBorder","allow","allowFullScreen","Contribute","standardizeRoom","char","Rooms","room","setRoom","allCourses","roomList","array","Main","path","Footer","set","forward","pos","backward","prettyTerm","mid","TermSwitch","termId","getTermId","isFirst","isLast","disabled","RedDot","height","top","NavLink","icon","isNew","isCurrentView","useLocation","pathname","TopNav","moment","fromNow","App","store","configureStore","reducer","selectedCoursesReducer","termReducer","preloadedState","serialisedState","e","warn","loadFromLocalStorage","ReactDOM","render","StrictMode","subscribe","saveToLocalStorage","getState"],"mappings":"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","file":"static/js/main.0c8f88b3.chunk.js","sourcesContent":["import COLORS from './colors.json'\nimport Fall2023 from './2023-2024 Fall 2023 Term.json'\nimport Spring2024 from './2023-2024 Spring 2024 Term.json'\n\nexport interface Course {\n    title: string;\n    id: string;\n    credits: string | null;\n    instructor: string;\n    url: string;\n    description: string;\n    categories: string[];\n    schedule: {\n        day: string;\n        start_time: string;\n        end_time: string;\n    }[];\n    location?: string;\n}\n\nconst courseData: {[key: string]: Course[]} = {Fall2023, Spring2024}\nconst availableTerms: string[] = ['Fall2023', 'Spring2024']\n\nexport {COLORS, courseData, availableTerms}\n","import {COLORS} from '../data'\n\n// Return an appropriate text color (black/white)\n// based on background color\nexport const getTextColor = (bg: string) => {\n  const backgroundColor = (bg ? bg : '#000000')\n\n  const rgb = [\n    parseInt(backgroundColor.slice(1, 3), 16),\n    parseInt(backgroundColor.slice(3, 5), 16),\n    parseInt(backgroundColor.slice(5, 7), 16),\n  ]\n  const brightness = Math.round(((rgb[0] * 299) +\n  (rgb[1] * 587) +\n  (rgb[2] * 114)) / 1000);\n  return (brightness > 125) ? 'black' : 'white'\n}\n\nexport const getRandomColor = () => {\n  const colorId = Math.floor(Math.random() * COLORS.length)\n  return COLORS[colorId]\n}\n\nexport const getRarestColor = (colors: Array<string>) => {\n  const freq: {[key: string]: number} = {}\n  COLORS.forEach(color => {\n    freq[color] = colors.filter(_color => _color === color).length\n  })\n\n  let ret: string = COLORS[0]\n  COLORS.forEach((color) => {\n    if (freq[color] < freq[ret]) {\n      ret = color\n    }\n  })\n  return ret\n}","const config =  {\n    last_updated: '2023-11-28 14:31+07',\n    currentTerm: 'Spring2024'\n}\n\nexport default config\n","// import { GroupBase, Options } from \"react-select\"\nimport { availableTerms, Course, courseData } from \"../data\"\nimport config from './config'\n\nexport const MAJORS = [\n  {value: 'ARTS', label: 'Arts and Media'},\n  {value: 'CORE', label: 'Core'},\n  {value: 'CS', label: 'Computer Science'},\n  {value: 'ECON', label: 'Economics'},\n  {value: 'ENG', label: 'Engineering'},\n  {value: 'FRE', label: 'French'},\n  {value: 'HIS', label: 'History'},\n  {value: 'IS', label: 'Integrated Science'},\n  {value: 'LIT', label: 'Literature'},\n  {value: 'MATH', label: 'Mathematics'},\n  {value: 'PSY', label: 'Psychology'},\n  {value: 'SOCI', label: 'Social Sciences'},\n  {value: 'VS', label: 'Vietnamese Studies'},\n  {value: 'PE', label: 'Physical Education'},\n  {value: 'CLB', label: 'Sport Clubs'},\n]\n\nexport const CATEGORIES = ['Core', 'E1', 'E2', 'E3', 'E4', 'C1', 'C2', 'C3', 'C4', 'Seminar', 'EL']\n  .map(s => ({label: s, value: s}))\n\nexport const LEVELS = ['100', '200', '300'].map(\n  level => ({label: level, value: level})\n)\n\nexport const getCourse = (id: string) => {\n  const allCourses: Course[] = availableTerms.reduce(\n    (courses, thisTerm) => {\n      return courses.concat(courseData[thisTerm])\n    }, \n    [] as Course[]\n  )\n  const matches = allCourses.filter(course => {\n    return course.id === id\n  })\n  if (matches.length > 0) {\n    return matches[0]\n  } else {\n    return null\n  }\n}\n\nexport const getMajor = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head.slice(0, split)\n}\n\nexport const getLevel = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head[split] + '00'\n}\n\n// export const getDates = (course) => `${course.start_date} - ${course.end_date}`\n\nexport const getSchedule = (course: Course) => course.schedule\n  .map(({day, start_time, end_time}) => `${day} ${start_time} - ${end_time}`)\n  .join('\\n')\n\nexport const getNotes = (course: Course) => course.description.split('---')[0]\n\nexport const getCategories = (course: Course) => course.categories.join(', ')\n\nexport const getDescription = (course: Course) => {\n  const des = course.description\n  const split = des.indexOf('---')\n  return des.slice(split + 4)\n}\n\nexport const isSelected = (selected: Array<Course>, id: string) => \n  (selected.filter(course => course.id === id).length > 0)\n\nexport const getRandomCourses = (n: number) => {\n  const courses = courseData[config.currentTerm]\n  const total = courses.length\n  if (n > total) {\n    throw new RangeError(\"Requesting more elements than available.\")\n  }\n  const chosen: string[] = []\n  while (n--) {\n    const available = courses.filter(course => !chosen.includes(course.id))\n    const id = Math.floor(Math.random() * available.length)\n    chosen.push(courses[id].id)\n  }\n  return chosen\n}","import FullCalendar from '@fullcalendar/react'\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport { getTextColor } from '../../utils/colors';\nimport { getCourse } from '../../utils/course';\nimport './Calendar.scss'\n\nconst Calendar = ({selectedCourses}) => {\n  \n  const dayId = {\n    'Sunday': 0,\n    'Monday': 1,\n    'Tuesday': 2,\n    'Wednesday': 3,\n    'Thursday': 4, \n    'Friday': 5,\n    'Saturday': 6,\n  }\n\n  const getTimeblocks = (course) => {\n\n    return course.schedule.reduce((blocks, block) => blocks.concat({\n      title: `${course.title} (${course.instructor})`,\n      daysOfWeek: [dayId[block.day]],\n      startTime: block.start_time,\n      endTime: block.end_time,\n      backgroundColor: course.color,\n      textColor: getTextColor(course.color),\n    }), [])\n  }\n\n  const visibleCourses = selectedCourses\n  .filter(course => course.visible)\n  .map(course => {\n      const info = getCourse(course.id)\n      return {...info, color: course.color}\n    })\n  \n  const events = visibleCourses\n    .reduce((events, course) => events.concat(getTimeblocks(course)), [])\n\n  return (\n  <FullCalendar\n    plugins={[ timeGridPlugin ]}\n    initialView=\"timeGridWeek\"\n    events = {events}\n    slotMinTime = \"07:00\"\n    slotMaxTime = \"21:00\"\n    scrollTime = \"09:00\"\n    hiddenDays = {[0]}\n    expandRows = {true}\n    allDaySlot = {false}\n    headerToolbar = {\n      ({\n        start: \"\",\n        center: \"\",\n        end: \"\"\n      })\n    }\n    dayHeaderFormat = { {weekday: 'short' }}\n  />\n  )\n}\n\nexport default Calendar\n","import { courseData } from '../data'\nimport { RootState } from './index'\n\nexport const selectTerm = (state: RootState) => state.term.value\n\nexport const selectCurrentTerm = (state: RootState) => courseData[state.term.value]\n\nexport const selectCurrentSelectedCourseIds = (state: RootState) => \n  state.selectedCourses.value.filter(\n    course => {\n      const term = state.term.value\n      const idList = courseData[term].map(course => course.id)\n      return idList.includes(course.id)\n    }\n  )","import { createSlice } from \"@reduxjs/toolkit\";\nimport { Course } from \"../data\";\nimport { getRarestColor } from \"../utils/colors\";\n\nexport interface SelectedCourseState {\n  id: string,\n  selected: boolean,\n  visible: boolean,\n  color: string\n}\n\nconst initalState: SelectedCourseState[] = []\n\nconst selectedCourses = createSlice({\n  name: 'selectedCourses',\n  initialState: {\n    value: initalState\n  },\n  reducers: {\n    toggleSelection: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (!isSelected) {\n        state.value.push({\n          'id': id,\n          'selected': true,\n          'visible': true,\n          'color': getRarestColor(state.value.map(course => course.color))\n        })\n      } else {\n        state.value = state.value.filter(course => course.id !== id)\n      }\n    },\n    toggleVisibility: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, visible: !course.visible}\n          : course\n        ))\n      } else {\n        console.log('Warning: Toggle visibility of a non-existing course');\n      }\n    },\n    setColor: (state, action) => {\n      const {id, color} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, color: color}\n          : course\n        ))\n      } else {\n        console.log('Warning: Set color of a non-existing course');\n      }\n    }\n  }\n})\n\nexport default selectedCourses.reducer\n\nexport const {toggleSelection, toggleVisibility, setColor} = selectedCourses.actions","import { useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { setColor } from \"../../store/selectedCoursesSlice\"\nimport { TwitterPicker } from \"react-color\"\nimport {COLORS} from '../../data/'\nimport './ColorPicker.scss'\n\nconst ColorPicker = ({ courseId }) => {\n    const [changing, setChanging] = useState(false)\n    const color = useSelector(state => state.selectedCourses.value\n        .filter(course => course.id === courseId)[0].color)\n    const dispatch = useDispatch()\n\n    const changeColor = (color) => {\n        dispatch(setColor({ id: courseId, color: color.hex }))\n        setChanging(false)\n    }\n    return (\n        <div className='me-2'>\n            <div className=\"dropdown\">\n                <button className=\"btn p-3 m-1\" style={({ backgroundColor: color })}\n                    onClick={() => { setChanging(!changing) }}\n                />   \n                {\n                    changing\n                    ? <TwitterPicker\n                        colors={COLORS.sort()}\n                        onChangeComplete={changeColor}\n                        width=\"18rem\"\n                        triangle=\"hide\"\n                        className=\"position-absolute twitter-picker border\"\n                    />\n                    : <></>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default ColorPicker","import { useDispatch } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport { toggleSelection, toggleVisibility } from \"../../store/selectedCoursesSlice\"\nimport { getCourse } from \"../../utils/course\"\nimport ColorPicker from \"./ColorPicker\"\nimport './SelectedCourses.scss'\n\nconst CreditCount = ({selectedCourses}) =>{\n  const credits = selectedCourses.reduce((preValue, curValue) => {\n    const courseInfo = getCourse(curValue.id)\n    const val = parseInt(courseInfo.credits)\n    return preValue + (curValue.visible ? val : 0)\n  } , 0\n  )\n\n  return (\n    <div className=\"fw-bold\">\n      <span className=\"d-inline d-sm-none d-lg-inline\"> </span> Credits: {credits}\n    </div>\n  )\n}\n\nconst SelectedCourses = ({selectedCourses}) => {\n  const dispatch = useDispatch()\n\n  return (\n  <div className=\"selected-course-list d-flex flex-column overflow-scroll mt-2\">\n    {\n      selectedCourses\n      .map(course => {\n        const info = getCourse(course.id)\n        return {...course, title: info.title, instructor: info.instructor}\n      })\n      .sort((a, b) => a.title.localeCompare(b.title))\n      .map((course) => (\n        // A COURSE\n        <div className=\"selected-course d-flex flex-row justify-content-between align-items-start mt-2 pb-2\" key={course.id}> \n          {/* INFORMATION */}\n          <div className=\"info flex-grow-1 d-flex flex-column text-start\">\n            <Link className=\"fw-bold text-decoration-none\"\n              to={`/courses/${course.id}`}\n            >\n              {course.title}\n            </Link>\n            <div className='d-flex flex-row align-items-center mt-2'>\n              <ColorPicker courseId={course.id}/>\n              <div className='d-flex flex-column'>\n                <small className=\"selected-instructor\"> {course.id} | {course.instructor} </small>\n              </div>\n            </div>\n          </div>\n          {/* EDIT BUTTONS */}\n          <div className=\"togglers d-flex flex-column\">\n            <div \n              className=\"btn eye\"\n              onClick={() => dispatch(toggleVisibility({id: course.id}))}\n            >\n              {course.visible ? \n              <i className=\"fas fa-eye \"></i> : <i className=\"fas fa-eye-slash \"></i>}\n            </div>\n            <div \n              className=\"btn trash\"\n              onClick={() => dispatch(toggleSelection({id: course.id}))}\n            >\n              <i className=\"fas fa-trash \"></i>\n            </div>\n          </div>\n        </div>\n      ))   \n    }    \n  </div>\n  )\n}\n\nexport {SelectedCourses, CreditCount}","import {useEffect, useState} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleSelection } from '../../store/selectedCoursesSlice'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { isSelected } from '../../utils/course'\nimport './Searcher.scss'\n\n\nconst Searcher = () => {\n  const [ filter, setFilter ] = useState('')\n  const [ focusItem, setFocusItem ] = useState(0)\n  const dispatch = useDispatch()\n  const selectedCourses = useSelector(state => state.selectedCourses.value)\n  const courses = useSelector(selectCurrentTerm)\n\n  let matchedCourses = []\n  let nVisibleCourses = 0\n\n  const handleArrowDown = () => {\n    setFocusItem((focusItem + 1) % nVisibleCourses)\n  }\n\n  const handleArrowUp = () => {\n    setFocusItem((focusItem + nVisibleCourses - 1) % nVisibleCourses)\n  }\n\n  const collapseSuggestions = () => {\n    changeText(\"\")\n    document.getElementById('search-input').value = \"\"\n  }\n\n  const handleShortcuts = (event) => {\n    if (event.key === 'Escape') {\n      collapseSuggestions()\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleShortcuts)\n\n    return () => {\n      window.removeEventListener('keydown', handleShortcuts)\n    }\n  })\n\n  const changeText = (text) => {\n    setFilter(text);\n    setFocusItem(0);\n  }\n\n  const onInputChanged = (event) => {\n    const text = event.target.value;\n    changeText(text);\n  }\n\n  const onCourseToggle = (id) => {\n    dispatch(toggleSelection({id}))\n    collapseSuggestions()\n  }\n  \n  // search appearances\n  const CourseInfo = (course) => {\n    return (\n      // <div className=\"d-flex flex-row justify-content-between align-items-center\">\n      //   <div className=\"course-id text-sm\">{course.id.split(\"_\")[0]}</div>\n      //   <div className=\"mx-1 course-title\">{course.title}</div>\n      //   <div className=\"instructor-name text-sm mx-1 border-left\">{course.instructor}</div>\n      // </div>\n      <div>\n        <b>{course.title}</b>\n        {` by ${course.instructor} [${course.id}]`}\n      </div>\n    )\n  }\n  \n  // compare input to course data\n  const CourseList = () => {\n    matchedCourses = courses.filter((course) => \n      (course.title + \"|\" + course.instructor + \"|\" + course.id) //course.id.split(\"_\")[0]) to exclude _Fall2021_... part\n      .toLowerCase().includes(filter.toLowerCase())\n    )\n\n    if (matchedCourses.length === 0) {\n      return (<button className=\"list-group-item\">No courses matched.</button>)\n    } else {\n      nVisibleCourses = Math.min(5, matchedCourses.length)\n      return matchedCourses\n        .slice(0, nVisibleCourses)\n        .map((course) => \n          <button \n            className={`\n              px-0 list-group-item\n              ${isSelected(selectedCourses, course.id) ? \"fw-bold\" : \"\"}\n              ${isFocused(course.id) ? \"focus\" : \"\"}\n            `}\n            onClick={() => onCourseToggle(course.id)}\n            key={course.id}\n          >\n            {CourseInfo(course)}\n          </button>\n        )\n    }\n  }\n\n  const isFocused = (id) => (matchedCourses[focusItem].id === id)\n  \n  return (\n    <div className=\"filter position-relative\">\n      <input \n        className=\"form-control py-2\" \n        id=\"search-input\"\n        placeholder=\"Add courses to schedule\"\n        autoComplete=\"off\"\n        onChange={onInputChanged} \n        onKeyDown={(event) => {\n          // TODO: refactor\n          if (event.key === 'ArrowUp') {\n            handleArrowUp()\n          } else if (event.key === 'ArrowDown') {\n            handleArrowDown()\n          } else if (event.key === 'Enter') {\n            if (matchedCourses.length === 0) {\n              return \n            }\n            onCourseToggle(matchedCourses[focusItem].id)\n          }\n        }}\n      />\n      {\n        filter !== \"\" ?\n          <div className=\"selecting list-group shadow position-absolute w-100\">\n            <CourseList/>\n            {/* <p className=\"list-group-item\"> {matchedCourses.length} courses matched. </p> */}\n          </div>\n        : <></>\n      }\n    </div>\n  )\n}\n\nexport default Searcher","import React from 'react'\nimport ical from 'ical-generator'\nimport { selectTerm } from '../../store/selectors';\nimport { useSelector } from 'react-redux';\nimport trimesterInfo from '../../data/trimester_info.json'\nimport { getCourse } from '../../utils/course';\n\nconst time_location = \"Asia/Ho_Chi_Minh\";\nconst short_days = {\n    'Monday': 'mo',\n    'Tuesday': 'tu',\n    'Wednesday': 'we',\n    'Thursday': 'th',\n    'Friday': 'fr',\n    'Saturday': 'sa',\n    'Sunday': 'su'\n}\nconst num_days = {\n    'Monday': 0,\n    'Tuesday': 1,\n    'Wednesday': 2,\n    'Thursday': 3,\n    'Friday': 4,\n    'Saturday': 5,\n    'Sunday': 6\n}\n\nfunction downloadUrl(blob, filename) {\n    const link = document.createElement('a');\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      const objectUrl = URL.createObjectURL(blob);\n      link.download = filename;\n      link.href = objectUrl;\n      link.dispatchEvent(new MouseEvent('click'));\n      URL.revokeObjectURL(objectUrl);\n    }\n  }\n\nfunction downloadCalendar(selectedCourses, cur_term_info) {\n    let list_of_events = []\n    //Info about current semester\n    const start_date_term = new Date(cur_term_info['start_date'])\n    const end_date_term = new Date(cur_term_info['end_date'])\n    //For each course\n    for (let each_courses of selectedCourses) {\n        if (!each_courses.visible) {\n            continue\n        }\n        let course_info = getCourse(each_courses.id)\n        let course_schedule = course_info.schedule\n        let course_title = course_info.title\n\n        //check if course has same time slot for different day\n        let same_time = true;\n        if (course_schedule.length > 0) {\n            let start_time = course_schedule[0]?.start_time\n            let end_time = course_schedule[0]?.end_time\n            for (let each_slot of course_schedule) {\n                let start_time_day = each_slot['start_time']\n                let end_time_day = each_slot['end_time']\n                if (! (start_time == start_time_day && end_time == end_time_day)) { //different timeslot\n                    same_time = false\n                    break\n                }\n            }\n        }\n        else {  // course have no schedule yet, exit to prevent bug\n            continue;\n        }\n\n        //same time slot => merge into single events for convenience\n        if (same_time) {\n            let each_time = course_schedule[0]\n            let meet_day = each_time['day']\n            let start_time = each_time['start_time']\n            let end_time = each_time['end_time']\n            //By ical convention: set event for first day, then add repeat later. Assume that week day is in order (i.e Tue as [0], Thu as [1])\n            let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n            first_day = first_day.toISOString().slice(0,10)\n            let first_session_start = new Date(first_day+\"T\"+start_time)\n            let first_session_end = new Date(first_day+\"T\"+end_time)\n            let repeat_date = []\n            for (let each_slot of course_schedule) {\n                let each_meet_day = each_slot['day']\n                repeat_date.push(short_days[each_meet_day])\n            }\n            //Standard ical format\n            let current_event = {\n                start: first_session_start,\n                end: first_session_end,\n                time_stamp: new Date(),\n                timezone: time_location,\n                summary: course_title,\n                repeating: {\n                    freq: 'WEEKLY',\n                    until: end_date_term,\n                    byDay: repeat_date,\n                }\n            }\n            list_of_events.push(current_event)\n        }\n        //Course might have several time -> treat each different time slot as different events\n        else {\n            for (let each_time of course_schedule) {\n                //Meet_day: thứ\n                let meet_day = each_time['day']\n                let start_time = each_time['start_time']\n                let end_time = each_time['end_time']\n                //By ical convention: set event for first day, then add repeat later\n                let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n                first_day = first_day.toISOString().slice(0,10)\n                let first_session_start = new Date(first_day+\"T\"+start_time)\n                let first_session_end = new Date(first_day+\"T\"+end_time)\n                //Standard ical format\n                let current_event = {\n                    start: first_session_start,\n                    end: first_session_end,\n                    time_stamp: new Date(),\n                    timezone: time_location,\n                    summary: course_title,\n                    repeating: {\n                        freq: 'WEEKLY',\n                        until: end_date_term,\n                        byDay: [short_days[meet_day]],\n                    }\n                }\n                list_of_events.push(current_event)\n            }\n        }\n    }\n    console.log(list_of_events)\n    const cal = ical({\n        events: list_of_events\n    });\n    const blob = new Blob([cal.toString()], { type: 'text/plain' }); \n    const time_stamp = (new Date()).toISOString().slice(0,19);\n    const file_name = 'Fulbright-calendar_' + time_stamp + '.ics'\n    downloadUrl(blob, file_name)\n}\n\nconst ExportCalendar= (props) => {\n    const cur_term_info = trimesterInfo.filter(term => term['name'] == useSelector(selectTerm))[0]\n    return (\n    <button type=\"button\" className=\"btn btn-white \" \n        onClick={() => {downloadCalendar(props.selectedCourses, cur_term_info)}}>\n        <i className=\"fa fa-calendar me-3\" aria-hidden=\"true\"></i>\n        Calendar file (ics)\n    </button>\n    )\n}\n\nexport default ExportCalendar\n\n","import React from 'react';\n// import { exportComponentAsJPEG} from 'react-component-export-image';\nimport ExportCalendar from './ExportCalendar';\n\nimport './ExternalExporter.scss';\nimport '../utils/index.scss'\n\n\n// const jpgFilePropoties = {\n//     fileName : \"Fulbright-course-calendar.jpg\",\n//     html2CanvasOptions: {\n//       allowTaint: true,\n//       useCORS: true,\n//       logging: false,\n//       height: 722,\n//       windowHeight: 722, \n//     }\n// }\n\nconst ExternalExporter = (props) => {\n  return (\n  <div className=\"dropdown\">\n      <button className=\"btn cta dropdown-toggle float-left\"\n       type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n        <i className=\"fa fa-download me-2\" aria-hidden=\"true\"></i>\n      </button>\n      <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n        {/* <li>\n          <button type=\"button\" className=\"btn btn-white \" \n            onClick={() => {exportComponentAsJPEG(props.componentRef, jpgFilePropoties)}}>\n            <i className=\"fa fa-file-image-o me-3\" aria-hidden=\"true\"></i>\n            Image file (jpg)\n          </button>\n        </li> */}\n\n        <li>\n          <ExportCalendar selectedCourses={props.selectedCourses}></ExportCalendar>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default ExternalExporter\n\n\n//Future\n// function saveAsPDF() {\n//   html2canvas($('div.panel.panel-default'), {\n//       onrendered: function (canvas) {\n//           var wid;\n//           var hgt;\n//           var img = canvas.toDataURL(\"image/png\", wid = canvas.width, hgt = canvas\n//           .height); //image data of canvas\n//           var hratio = hgt / wid;\n//           var doc = new jsPDF({\n//               orientation: \"landscape\"\n//           });\n//           var width = doc.internal.pageSize.width;\n//           var height = doc.internal.pageSize.height;\n//           var height = width * hratio;\n//           doc.addImage(img, 'JPEG', width*.025, 20, width*.95, height*.95);\n//           doc.save('AssetComparison.pdf');\n//       }\n//   });\n// }","import {SelectedCourses, CreditCount} from './SelectedCourses'\nimport Searcher from './Searcher'\nimport DownloadBtn from './ExternalExporter'\nimport './InfoBar.scss'\n\n\nconst InfoBar = ({selectedCourses,calendarRef}) => {\n\n  return (\n    <div className='info-bar d-flex flex-column'>\n      <Searcher />\n      \n      <SelectedCourses\n        selectedCourses={selectedCourses}\n      />\n\n      <div className=\"toolbar w-100 justify-content-between d-flex mt-auto border border-primary border-1 rounded\">\n          <div className=\"my-auto mx-auto text-left\">\n            <CreditCount \n              selectedCourses={selectedCourses}\n            />\n          </div>\n\n          <div className=\"d-none d-md-block\">\n            <DownloadBtn\n              className=\"calendar-exporter\" \n              componentRef={calendarRef}\n              selectedCourses={selectedCourses}>\n            </DownloadBtn>\n          </div>\n          \n      </div>\n    </div>\n  )\n}\n\nexport default InfoBar","import React, {useRef} from 'react'\nimport Calendar from './Calendar'\nimport './index.scss'\nimport { selectCurrentSelectedCourseIds } from '../../store/selectors'\nimport { useSelector } from 'react-redux'\nimport { Helmet } from 'react-helmet'\nimport InfoBar from './InfoBar'\n\nconst Schedule = () => {\n  const currentCourseSelection = useSelector(selectCurrentSelectedCourseIds)\n  const calendarRef = useRef()\n\n  return (\n    <div className='row w-100 m-0'>\n      <Helmet>\n        <title>OneSchedule</title>\n      </Helmet>\n\n      {/* COLLAPSABLE INFO BAR - FOR SMALL DEVICES */}\n      <div className=\"d-lg-none d-block mb-3\">\n        <button className=\"btn btn-primary\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-info-bar\" aria-expanded=\"false\" aria-controls=\"collapsable-info-bar\">\n          Edit schedule\n        </button>\n        <div className=\"collapse mt-3\" id=\"collapsable-info-bar\">\n          <InfoBar\n            selectedCourses={currentCourseSelection}\n          />\n        </div>\n      </div>\n\n      {/* CALENDAR  */}\n      <div ref={calendarRef} className=\"col-lg-9\">\n        <Calendar\n          selectedCourses={currentCourseSelection} \n        />\n      </div>\n      \n      {/* PERSISTENT INFO BAR - FOR LARGE DEVICES */}\n      <div className=\"d-lg-inline-block d-none col-3\">\n        <InfoBar\n          selectedCourses={currentCourseSelection}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Schedule\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { toast } from \"react-toastify\"\nimport { toggleSelection } from \"../../store/selectedCoursesSlice\"\n\nconst AddDropBtn = ({course, preStatus}) => {\n  const dispatch = useDispatch()\n\n  const onToggleSelection = () => {\n    dispatch(toggleSelection({id: course.id}))\n    toast.success(preStatus ? 'Course removed!' : 'Course added!', {\n      autoClose: 2000\n    })\n  }\n\n  return (<div className={`cta ${preStatus ? 'bg-warning text-dark' : ''} flex-shrink-2`}\n    onClick={onToggleSelection}\n  > \n    { preStatus ? 'Remove' : 'Add' }\n  </div>)\n}\n\nexport default AddDropBtn","import { Link } from \"react-router-dom\"\nimport { getCategories, isSelected } from \"../../utils/course\"\nimport AddDropBtn from \"../utils/AddDropBtn\"\n\nconst TableView = ({filteredCourses, selectedCourses}) => {\n  return <table className='table table-hover table-bordered align-middle'>\n    <thead className='table-light'>\n      <tr>\n        <th className='d-none d-md-table-cell'>ID</th>\n        <th className='d-none d-md-table-cell'>Categories</th>\n        <th>Title</th>\n        <th className='d-none d-md-table-cell'>Instructor</th>\n        <th> Action </th>\n      </tr>\n    </thead>\n    <tbody>\n      {filteredCourses.map(course => (\n        <tr key={course.id}>\n            <td className='d-none d-md-table-cell'> \n              {course.id}\n            </td>\n            <td className='d-none d-md-table-cell'>{getCategories(course)}</td>\n            <td>\n              <Link to={`/courses/${course.id}`} \n                className='text-decoration-none fw-bold' \n              >\n                {course.title}\n              </Link>\n            </td>\n            <td className='d-none d-md-table-cell' >\n              {course.instructor}\n            </td>\n            <td>\n              <AddDropBtn course={course} preStatus={isSelected(selectedCourses, course.id)} /> \n            </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n}\n\nexport default TableView","import { Link } from \"react-router-dom\"\n\nconst CourseCard = ({course}) => {\n  return <Link \n    to={`/courses/${course.id}`}\n    className='course-card d-flex flex-column align-items-center m-4 shadow overflow-hidden'\n  >\n    <div className='thumbnail p-2 w-100 flex-shrink-0 d-flex justify-content-center align-items-center'>\n      <h5 className='thumbnail-text multiple-lines'>{course.id}</h5>\n    </div>\n    <div className='d-flex flex-column align-items-start p-3 text-start'>\n      <div className='fw-bold  mb-2'>{course.title}</div>\n      <div>{course.instructor}</div>\n    </div>\n  </Link>\n}\n\n\nconst GalleryView = ({filteredCourses}) => {\n  return <div className='d-flex flex-row flex-wrap justify-content-center'>\n    {filteredCourses.map(course => (\n      <CourseCard course={course} key={course.id}/>\n    ))}\n  </div>\n}\n\nexport default GalleryView","import { Dispatch, SetStateAction } from 'react'\nimport { useSelector } from 'react-redux'\nimport Select, { Options } from 'react-select'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { CATEGORIES, LEVELS, MAJORS } from '../../utils/course'\n\n// type StringStateSetter = Dispatch<SetStateAction<string>>\n\n// interface FilterProps {\n//   majorFilter: string,\n//   setMajorFilter: StringStateSetter,\n//   instructorFilter: string,\n//   setInstructorFilter: Dispatch<SetStateAction<string>>,\n//   levelFilter: string,\n//   setLevelFilter: Dispatch<SetStateAction<string>>,\n//   categoryFilter: string,\n//   setCategoryFilter: Dispatch<SetStateAction<string>>\n// }\n\n// const fooOptions: Options<string> = ['abc']\n\nconst Filter = (props) => {\n  const courses = useSelector(selectCurrentTerm)\n  // Instructor options for filter\n  // NOTE: Majors and levels are saved as constants\n  const instructors = courses\n    .map(course => course.instructor)\n    .filter((value, index, self) => self.indexOf(value) === index)\n    .map(name => ({value: name, label: name}))\n\n  return (\n    <div className='bg-light p-3 border rounded collapse show' id='collapsable-filters'>\n      <h4 className='border-bottom pb-1'>Filters</h4>\n\n      <div className='d-flex flex-column align-items-center'>\n        <div className='filter-card d-flex flex-column'>\n          <div className='mb-1'>Majors</div>\n          <Select options={MAJORS} isMulti \n          value={props.majorFilter}\n          onChange={props.setMajorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Instructors</div>\n          <Select options={instructors} isMulti\n          onChange={props.setInstructorFilter}\n          value={props.instructorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Levels</div>\n          <Select options={LEVELS} isMulti\n          onChange={props.setLevelFilter}\n          value={props.levelFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Categories</div>\n          <Select options={CATEGORIES} isMulti\n          onChange={props.setCategoryFilter}\n          value={props.categoryFilter}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Filter","import {useState, useEffect} from 'react'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../store';\n\n// Persisted state by saving to local storage\nexport function usePersistedState(key: string, defaultValue: string | number) {\n  const tmp = localStorage.getItem(key)\n  const [state, setState] = useState(\n    () => tmp ? JSON.parse(tmp) : defaultValue\n  );\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import React, { useState } from 'react'\nimport './index.scss'\nimport { getLevel, getMajor } from '../../utils/course'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport config from '../../utils/config'\nimport { selectCurrentSelectedCourseIds, selectCurrentTerm, selectTerm } from '../../store/selectors'\nimport { Helmet } from 'react-helmet'\nimport TableView from './TableView'\nimport GalleryView from './GalleryView'\nimport Filter from './Filter'\nimport { usePersistedState } from '../../hooks'\n\nconst GalleryToggle = () => {\n  return <div className='d-none d-lg-block gallery-view bg-light p-3 border rounded mb-3'>\n    <div className=\"form-check form-switch d-flex flex-row align-items-center\">\n      <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\"\n        onClick={() => setCompact(!compact)}\n      />\n      <label className=\"form-check-label ms-4\" htmlFor=\"flexSwitchCheckDefault\">Gallery (BETA)</label>\n    </div>\n  </div>\n}\n\nconst Offerings = () => {\n  const [compact, setCompact] = useState(true)\n  const selectedCourses = useSelector(selectCurrentSelectedCourseIds)\n  const courses = useSelector(selectCurrentTerm)\n  const term = useSelector(selectTerm)\n\n  const [majorFilter, setMajorFilter] = usePersistedState('majorFilter', [])\n  const [instructorFilter, setInstructorFilter] = usePersistedState('instructorFilter', [])\n  const [levelFilter, setLevelFilter] = usePersistedState('levelFilter', [])\n  const [categoryFilter, setCategoryFilter] = usePersistedState('categoryFilter', [])\n\n  const getFilteredCourses = () => {\n    const oneFilter = (filterList, courses, getDetail, manyToMany = false) => {\n      if (filterList.length !== 0) {\n        return courses.filter(course => {\n          // Determine if a course passes the filterList\n          const matchers = filterList\n            .map(obj => obj.value)\n          if (manyToMany) {\n            return matchers.filter(matcher => getDetail(course).includes(matcher))\n              .length > 0\n          } else {\n            return matchers.includes(getDetail(course))\n          }\n        })\n      } else {\n        return courses\n      }\n    }\n    let ret = courses\n    console.log(instructorFilter.length, majorFilter.length, levelFilter.length, categoryFilter.length);\n    // Filter the course list over 3 filters\n    ret = oneFilter(instructorFilter, ret, (course) => course.instructor)\n    ret = oneFilter(majorFilter, ret, (course) => getMajor(course.id))\n    ret = oneFilter(levelFilter, ret, (course) => getLevel(course.id))\n    ret = oneFilter(categoryFilter, ret, (course) => course.categories, true)\n    return ret\n  }\n\n  const filteredCourses = getFilteredCourses()\n\n\n  // NOTICE: In this component, 'lg' breakpoint is used instead of 'md' as usual.\n  return (\n    <div className='row'>\n      <Helmet>\n        <title>{term} Offerings</title>\n      </Helmet>\n\n      {/* COURSE LIST */}\n      <div className='col-lg-9 order-lg-1 order-2'>\n        <div className=\"alert alert-primary w-100\" role=\"alert\">\n          {/* <b>Last update: {moment(config.last_updated).fromNow()}. </b> */}\n          When in doubt, please double-check on OneStop.\n        </div>\n        {compact\n          ? <TableView filteredCourses={filteredCourses}\n            selectedCourses={selectedCourses}\n          />\n          : <GalleryView filteredCourses={filteredCourses} />}\n      </div>\n\n    {/* RIGHT BAR: FILTERS */}\n      <div className='right-bar col-lg-3 order-lg-2 order-1'>\n        {/* <GalleryToggle /> */}\n        <button className=\"d-lg-none btn btn-primary mb-3\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-filters\" aria-expanded=\"true\" aria-controls=\"collapsable-filters\">\n          Filter\n        </button>\n        <Filter\n          majorFilter={majorFilter}\n          instructorFilter={instructorFilter}\n          categoryFilter={categoryFilter}\n          levelFilter={levelFilter}\n          setMajorFilter={setMajorFilter}\n          setInstructorFilter={setInstructorFilter}\n          setCategoryFilter={setCategoryFilter}\n          setLevelFilter={setLevelFilter}\n        />\n\n        <div className='right-bar-course-count my-3 fw-bold'> {filteredCourses.length} course(s) found </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Offerings\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useSelector } from 'react-redux'\nimport { useParams, useRouteMatch } from 'react-router-dom'\nimport { getCategories, getCourse, getDescription, getNotes, getSchedule, isSelected } from '../../utils/course'\nimport AddDropBtn from '../utils/AddDropBtn'\nimport './OneCourse.scss'\n\nconst OneCourse = () => {\n  const courseId = useParams().id\n  const course = getCourse(courseId)\n  if (!course) {\n    return <div>\n      <h1>Course not found</h1>\n      <p>If you think this is a bug, let us know!</p>\n    </div>\n  }\n  const selectedCourses = useSelector(state => state.selectedCourses.value)\n  const selected = isSelected(selectedCourses, course.id)\n  \n  const OneStop = () => (\n    <a href={course.url}> {course.id} </a>\n  )\n  const Row = ({header, content}) => {\n    return (\n      <tr>\n        <td className='fw-bold'> {header} </td>\n        <td className='multiple-lines'> {content} </td>\n      </tr>\n    )\n  }\n  \n  return (\n    <div className='text-start m-4'>\n      <Helmet>\n        <title> {course.title} </title>\n      </Helmet>\n      \n      <div className=\"d-flex flex-column border-bottom mb-4 align-items-start\">\n        <div className='d-flex flex-row align-items-end w-100'>\n          <h4 className='flex-grow-1'>\n            {course.id}  \n          </h4>\n          <AddDropBtn course={course} preStatus={selected} />\n        </div>\n\n        <h1 className='display-4'>{course.title}</h1>\n      </div>\n      \n      <div className='d-flex flex-column flex-md-row justify-content-around'>\n        <div className=' multiple-lines col-md-6 order-2 order-md-1'>\n          {getDescription(course)}\n        </div>\n        <div className='flex-grow-1 pb-4 pt-md-0 ms-md-5 order-1 order-md-2'>\n\n          <table className='table table-hover table-bordered'>\n            <tbody>\n              <Row header='Instructor' content={course.instructor} />\n              <Row header='Schedule' content={getSchedule(course)} />\n              <Row header='Location' content={course.location} />\n              <Row header='Categories' content={getCategories(course)} />\n              <Row header='Credits' content={course.credits} />\n              <Row header='OneStop URL' content={<OneStop />} />\n              <Row header='Further notes' content={getNotes(course)} />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OneCourse\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\ninterface IContributor {\n    html_url: string,\n    login: string,\n    contributions: number,\n    avatar_url: string,\n}\n\nconst Contributor = ({ contributor }: {contributor: IContributor}) => {\n    return (\n        <div className='m-3 text-center'>\n            <div className='cont-img rounded-circle overflow-hidden width'>\n                <img className='w-100' src={contributor.avatar_url} alt='Developer avatar'/>\n            </div>\n            <a\n                href={contributor.html_url}\n                className='fw-bold'\n            >\n                {contributor.login}\n            </a >\n            <div>{contributor.contributions} commit(s)</div>\n        </div>\n    )\n}\n\nconst Contributors = () => {\n    const [contributors, setContributors] = useState<IContributor[]>()\n\n    useEffect(() => {\n        axios.get('https://api.github.com/repos/npnkhoi/oneschedule/contributors')\n            .then((res) => {\n                setContributors(res.data)\n            })\n    }, [])\n\n    if (contributors) {\n        return (\n            <div className='d-flex flex-row flex-wrap'>\n                {contributors\n                    .filter(contributor => contributor.login !== 'pazabol')\n                    .map((contributor) => (\n                        <Contributor contributor={contributor} key={contributor.login} />\n                    ))}\n\n            </div>\n        )\n    } else {\n        return (<div>Loading ...</div>)\n    }\n}\n\nexport default Contributors","import React from 'react'\nimport './index.scss'\n\nconst CTA = ({link, text}) => {\n  return (\n    <a href={link} className='text-decoration-none'>\n      <div className='cta my-2'>\n        <div className='text-white fw-bold'>{text}</div>\n      </div>\n    </a>\n  )\n}\n\nexport default CTA\n","import { Helmet } from 'react-helmet'\nimport './index.scss'\nimport Contributors from './Contributors'\nimport CTA from '../utils/CTA'\n\nconst About = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-6'>\n      <Helmet>\n        <title>About</title>\n      </Helmet>\n      <h2 className='my-4'>About this website</h2>\n      <div className='d-flex flex-column flex-md-row align-items-center justify-content-between'>\n        <p>\n          This website is founded by Khoi, a Fulbright CS student. \n          He didn&apos;t like copying class schedule to paper when selecting courses each semester. \n          Therefore, inspired by <a href='https://nusmods.com/'>NUSMods</a>, \n            he built <b>OneSchedule</b> to help visualize <b>schedules</b> in <b>one</b> minute.\n          OneSchedule is not an official channel of Fulbright. \n          It is free, <a href='https://github.com/npnkhoi/oneschedule'>open-source</a>, and maintained by volunteers.\n        </p>\n      </div>\n      <div>\n      \n      <h5>Our team</h5>\n      {/* <div className=\"alert alert-danger w-100\" role=\"alert\">\n        As our team is graduating from Fulbright, we are actively looking for a developer from Fulbright \n        to maintain the website. \n        Email npnkhoi@gmail.com if you are interested!\n      </div> */}\n      <Contributors />\n\n      <h2 className='my-4'>How to thank us</h2>\n      <div className='text-start'>\n      \n        <h5>1. Donate</h5>\n        <p>\n          OneSchedule is free, and will continue to be so. However, it is built entirely by volunteers, who are also busy humans. \n          Therefore, any donation -- big or small -- will be a great encouragement to the developers.\n          Please consider donating to OneSchedule (say, 20K VND) via 2 following channels:\n        </p>\n        <ol className=\"border border-primary rounded py-3\">\n          <li>Vietcombank: 0011004405309 (PHAM LAN PHUONG)\n          </li>\n\n          <li>Momo: 0395128700 (PHAM LAN PHUONG)\n          </li>\n        </ol>\n\n        <p>When you give, don&apos;t forget to leave us a message. Your support will be remembered forever.</p>\n\n        <h5>2. Give feedback</h5>\n        <p>If you find a bug in the app, or simply want to let us know your thoughts, we would love to here it. That is really the easiest way to support this app.</p>\n        <CTA\n          text='Give feedback'\n          link='https://docs.google.com/forms/d/e/1FAIpQLScIRIBsSk_ciXC_peeanPJXyeh7MB56eaGhOvNWWoznSaM_6g/viewform'\n        />\n      </div>\n\n      <h2 className='my-4'>Special thanks to</h2>\n      \n      <ul>\n        <li>Le Thuc Minh Chau for being the first person to support this idea.</li>\n        <li> <a href='https://fullstackopen.com/en/'>Full Stack open course</a> from University of Helsinki for teaching Khoi everything about fullstack web development.</li>\n        <li>The kind reviewers -- Huyen Nguyen, Tuong Minh, Binh Giang, chi Duyen (Ann), Dan Tam & Huy Vu, anh Vu Le, and many more -- for giving their quality feedback.</li>\n      </ul>\n      </div>\n      <div className=\"w-100 ratio ratio-16x9\">\n        <iframe src=\"https://www.youtube.com/embed/UROWh3csqLk\" title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n      </div>\n    </div>\n  )\n}\n\nexport default About\n","import { Helmet } from \"react-helmet\"\nimport CTA from \"../utils/CTA\"\n\nconst Contribute = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-8'>\n      <Helmet>\n        <title>Contribute</title>\n      </Helmet>\n      <h2 className='mb-4'>Contribute to OneSchedule</h2>\n      <div className='text-start'>\n      \n        <h5>1. Donate</h5>\n        <p>\n          OneSchedule is free, and will continue to be so. However, it is built entirely by volunteers, who are also busy humans. \n          Therefore, any donation -- big or small -- will be a great encouragement to the developers.\n          Please consider donating to OneSchedule (say, 20K VND) via 2 following channels:\n        </p>\n        <ol className=\"border border-primary rounded py-3\">\n          <li>ACB: 7132717 (NGUYEN PHUNG NHAT KHOI, Branch: Nam Sai Gon)\n          </li>\n\n          <li>Momo/Zalopay: 0343059217 (NGUYEN PHUNG NHAT KHOI, don&apos;t judge my avatar)\n          </li>\n        </ol>\n        {/* <p>\n          It works like this: you donate, then we are happy and motivated, then we improve OneSchedule, then you visualize your schedule better, then you are happy, then you approach your Meaning of Life.\n        </p> */}\n        {/* <p>\n          We also need financial support to deliver more features: nicer domain, classroom map, credit planning, course review, and maybe an ecosystem of apps for Fulbright students. \n          See our issues and upcoming features <a href=\"https://github.com/npnkhoi/oneschedule/issues\">here</a>. We simply need extrinsic motivation to deliver them.\n        </p> */}\n        <p>When you give, don&apos;t forget to leave us a message. Your support will be remembered forever.</p>\n        {/* <div className=\"rounded border p-3\">\n        </div> */}\n\n        <h5>2. Give feedback</h5>\n        <p>If you find a bug in the app, or simply want to let us know your thoughts, we would love to here it. That is really the easiest way to support this app.</p>\n        <CTA\n          text='Give feedback'\n          link='https://docs.google.com/forms/d/e/1FAIpQLScIRIBsSk_ciXC_peeanPJXyeh7MB56eaGhOvNWWoznSaM_6g/viewform'\n        />\n        <p>\n          Cheers,\n          <br />\n          Khoi\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default Contribute\n","import { useState } from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport { useSelector } from \"react-redux\"\nimport Select from \"react-select\"\nimport { selectCurrentTerm } from \"../../store/selectors\"\nimport { getRandomColor } from \"../../utils/colors\"\nimport Calendar from \"../Schedule/Calendar\"\n\nconst standardizeRoom = (s) => !s ? '' : s\n    .split('')\n    .filter((char, index) => {\n        if (char == ' ') {\n            if (index > 0 && s[index-1] == '&') return false\n            if (index < s.length - 1 && s[index+1] == '&') return false\n        }\n        return !(char == 's' && index == 9 && s.slice(0, 10) == 'Classrooms');\n    })\n    .join('')\n\nconst Rooms = () => {\n    const [room, setRoom] = useState(null)\n    const allCourses = useSelector(selectCurrentTerm)\n\n    const selectedCourses = !room ? [] : allCourses\n        .filter(course => standardizeRoom(course.location) == room.value)\n        .map(course => ({...course, visible: true, color: getRandomColor()}))\n    const onlyUnique = (value, index, array) => array.indexOf(value) === index\n    \n    const roomList = allCourses\n        .map(course => standardizeRoom(course.location))\n        .filter(onlyUnique)\n        .filter(room => room && room.length <= 32)\n        .map(room => ({label: room, value: room}))\n        .sort((a, b) => a.label.localeCompare(b.label))\n\n    return (\n        <div className='row w-100 m-0'>\n            <Helmet>\n                <title>OneSchedule</title>\n            </Helmet>\n\n            {/* CALENDAR  */}\n            <div className=\"col-lg-9\">\n                <Calendar\n                    selectedCourses={selectedCourses}\n                />\n            </div>\n\n            {/* PERSISTENT INFO BAR - FOR LARGE DEVICES */}\n            <div className=\"d-lg-inline-block d-block order-first col-lg-3 col-12 mb-3\">\n                <Select\n                    options={roomList}\n                    onChange={setRoom} \n                    value={room}\n                    placeholder='Pick a room' />\n            </div>\n        </div>\n    )\n}\n\nexport default Rooms\n","import { Switch, Route, useRouteMatch, useParams } from 'react-router-dom'\nimport Schedule from '../Schedule';\nimport Offerings from '../Offerings';\nimport OneCourse from '../Offerings/OneCourse';\nimport About from '../About';\nimport Contribute from '../Contribute';\nimport './Main.scss'\nimport Rooms from '../Rooms/index';\n\nconst Main = () => {\n  return (\n    <div className='main w-100 text-center'>\n      <div className='container-fluid py-3'>\n        <Switch>\n          <Route path='/about'>\n            <About />\n          </Route>\n          <Route path='/contribute'>\n            <Contribute />\n          </Route>\n          <Route path='/courses/:id'>\n            <OneCourse />\n          </Route>\n          <Route path='/courses'>\n            <Offerings />\n          </Route>\n          <Route path='/rooms'>\n            <Rooms />\n          </Route>\n          <Route path='/'>\n            <Schedule />\n          </Route>\n\n        </Switch>\n      </div>\n    </div>\n  )\n}\n\nexport default Main","import React from 'react'\n// import config from '../utils/config'\nimport './Footer.scss'\n\nconst Footer = () => (\n  <div className='d-flex flex-column align-items-center justify-content-center text-center text-white bg-dark py-5'>\n    <span>\n      Designed and built with love by OneSchedule Team.\n    </span>\n    <span>\n      Copyright © 2021 - Present, OneSchedule.\n    </span>\n    <div>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://github.com/npnkhoi/oneschedule\">Github</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://www.facebook.com/fuv.oneschedule\">Facebook</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.notion.site/OneSchedule-Updates-c3ce635ee748488a9fa33ecb925e3bdb\">Updates</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.github.io/#/\">Author</a>\n    </div>\n  </div>\n)\n\nexport default Footer\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport {availableTerms} from '../data'\nimport config from \"../utils/config\";\n\nconst term = createSlice({\n  name: 'term',\n  initialState: {\n    value: config.currentTerm\n  },\n  reducers: {\n    set: (state, action) => {\n      state.value = action.payload\n    },\n    forward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos + 1 < availableTerms.length) {\n        state.value = availableTerms[pos + 1]\n      }\n    },\n    backward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos > 0) {\n        state.value = availableTerms[pos - 1]\n      }\n    }\n  }\n})\n\nexport default term.reducer\nexport const {forward, backward} = term.actions","import { availableTerms } from \"../data\";\n\nexport const getTermId = (term: string) => availableTerms.indexOf(term)\n\nexport const prettyTerm = (term: string) => {\n  const mid = term.search(/\\d/)\n  const head = term.slice(0, mid)\n  const tail = term.slice(mid)\n  return head + ', ' + tail\n}","import { useDispatch, useSelector } from 'react-redux'\nimport { backward, forward } from '../../store/termSlice'\nimport { selectTerm } from '../../store/selectors'\nimport { getTermId, prettyTerm } from '../../utils/term'\nimport { availableTerms } from '../../data'\nimport './TermSwitch.scss'\n\nconst TermSwitch = () => {\n  const term = useSelector(selectTerm)\n  const termId = getTermId(term)\n  const dispatch = useDispatch()\n\n  const isFirst = termId == 0\n  const isLast = termId == availableTerms.length - 1\n  \n\n  return (\n    <div className=\"d-flex flex-row align-items-center text-light border border-light rounded\"\n      aria-label='term switch'\n    >\n      <button className='btn btn-dark'\n        disabled={isFirst}\n        onClick={() => dispatch(backward())}\n      >\n        <i className='fas fa-angle-left '/>\n      </button>\n\n      <span className='flex-grow-1 text-center mx-3'> {prettyTerm(term)}</span>\n\n      <button className='btn btn-dark'\n        disabled={isLast}\n        onClick={() => dispatch(forward())}\n        aria-label='next term'\n      >\n        <i className='fas fa-angle-right '/>\n      </button>\n    </div>\n  )\n}\n\nexport default TermSwitch","import moment from \"moment\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport config from \"../../utils/config\"\nimport TermSwitch from '../utils/TermSwitch'\nimport './TopNav.scss'\n\ninterface NavLinkProps {\n  label: string,\n  path: string,\n  icon: string,\n  isNew?: boolean\n}\n\nconst RedDot = () => {\n  const styles = {\n    width: 12,\n    height: 12,\n    top: -5\n  }\n  return (\n    <div \n      style={styles} \n      className='rounded-circle bg-secondary color-red-300 position-relative'\n    />\n  )\n}\n\nconst NavLink = ({label, path, icon, isNew}: NavLinkProps) => {\n    const location = useLocation()\n    \n    // Detect current view for highlighting\n    const isCurrentView = ('/' + location.pathname.split('/')[1]) === path\n\n\n    return (\n      <Link to={path}\n        className={`nav-item nav-link text-decoration-none p-2 me-3\n          ${(isCurrentView ? 'active' : '')}\n        `}\n      >\n        <div className=\"d-flex flex-row align-items-center\">\n          <i className={`${icon} fa me-2 nav-icon text-center`}/>\n          <span>{label}</span>\n          {isNew ? <RedDot /> : null}\n        </div>\n      </Link>\n    )\n  }\n  \n\nconst TopNav = () => {\n    return <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\n        <div className=\"container-fluid\">\n            <Link to='/' className=\"navbar-brand\">OneSchedule</Link>\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <div className=\"navbar-nav\">\n                    <NavLink label='Schedule' path='/' icon='far fa-calendar'/>\n                    <NavLink label='Courses' path='/courses' icon='fas fa-book-open'/>\n                    <NavLink label='Rooms' path='/rooms' icon='fas fa-door-open'/>\n                    {/* <NavLink label='Contribute' path='/contribute' icon='fas fa-star'/> */}\n                    <NavLink label='About' path='/about' icon='fas fa-info'/>\n                    <div className=\"nav-item\">\n                      <TermSwitch />\n                    </div>\n                    <div className=\"text-white m-auto px-3 py-2 fst-italic\">Updated {moment(config.last_updated).fromNow()}</div>\n                </div>\n            </div>\n        </div>\n    </nav>\n}\n\nexport default TopNav","import React from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport './App.scss';\nimport Main from './layout/Main';\nimport Footer from './layout/Footer';\nimport TopNav from './layout/TopNav'\n\nfunction App() {\n  return (\n    <Router>\n      <TopNav />\n      <Main />\n      <Footer />\n    </Router>\n  );\n}\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport { loadFromLocalStorage } from '../utils/localStorage'\nimport selectedCoursesReducer from './selectedCoursesSlice'\nimport termReducer from './termSlice'\n\n// const currentVersion = localStorage.getItem('version')\n// if (currentVersion !== config.version) {\n//   console.log('Deleting');\n//   const oldData = localStorage.getItem('persistantState')\n//   const timestamp = moment().format()\n//   localStorage.setItem(timestamp, oldData)\n//   localStorage.removeItem('persistantState')\n//   localStorage.setItem('version', config.version)\n// }\n\nconst store = configureStore({\n  reducer: {\n    selectedCourses: selectedCoursesReducer,\n    term: termReducer\n  },\n  preloadedState: loadFromLocalStorage()\n})\nexport default store\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch","// load string from localStarage and convert into an Object\n// invalid output must be undefined\nexport function loadFromLocalStorage() {\n  try {\n    const serialisedState = localStorage.getItem(\"persistantState\");\n    if (serialisedState === null) return undefined;\n    return JSON.parse(serialisedState);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\n\n// convert object to string and store in localStorage\nexport function saveToLocalStorage(state: Record<string, unknown>) {\n  try {\n    const serialisedState = JSON.stringify(state);\n    localStorage.setItem(\"persistantState\", serialisedState);\n  } catch (e) {\n    console.warn(e);\n  }\n}","import './styles/main.scss'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport { saveToLocalStorage } from './utils/localStorage';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n"],"sourceRoot":""}