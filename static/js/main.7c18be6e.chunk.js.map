{"version":3,"sources":["data/index.ts","utils/colors.ts","utils/config.ts","utils/localStorage.ts","utils/course.ts","components/Schedule/Calendar.js","store/selectors.ts","store/selectedCoursesSlice.ts","components/Schedule/ColorPicker.js","components/Schedule/SelectedCourses.js","components/Schedule/Searcher.js","components/Schedule/ExportCalendar.js","components/Schedule/ExternalExporter.js","components/Schedule/InfoBar.js","components/Schedule/index.js","components/utils/AddDropBtn.js","components/Offerings/TableView.js","components/Offerings/GalleryView.js","components/Offerings/Filter.jsx","hooks/index.ts","components/Offerings/index.js","components/Offerings/OneCourse.js","components/About/Contributors.tsx","components/utils/CTA.js","components/About/index.tsx","components/Contribute/index.tsx","components/Rooms/index.jsx","components/CustomSchedule/EventForm.js","components/CustomSchedule/index.js","components/layout/Main.tsx","components/layout/Footer.tsx","store/termSlice.ts","utils/term.ts","components/utils/TermSwitch.js","components/layout/TopNav.tsx","components/App.js","store/index.ts","index.js"],"names":["courseData","Fall2023","Spring2024","availableTerms","getTextColor","bg","backgroundColor","rgb","parseInt","slice","Math","round","getRandomColor","colorId","floor","random","COLORS","length","getRarestColor","colors","freq","forEach","color","filter","_color","ret","config","last_updated","currentTerm","loadPersonalPlansFromLocalStorage","plansJSON","localStorage","getItem","plans","JSON","parse","Array","isArray","console","warn","error","MAJORS","value","label","CATEGORIES","map","s","LEVELS","level","getCourse","id","matches","reduce","courses","thisTerm","coursesThisTerm","personalPlans","combined","concat","course","getSchedule","schedule","day","start_time","end_time","join","getNotes","description","split","getCategories","categories","getDescription","des","indexOf","isSelected","selected","Calendar","selectedCourses","dayId","events","visible","info","blocks","block","title","instructor","daysOfWeek","startTime","endTime","textColor","getTimeblocks","plugins","timeGridPlugin","initialView","slotMinTime","slotMaxTime","scrollTime","hiddenDays","firstDay","expandRows","allDaySlot","headerToolbar","start","center","end","dayHeaderFormat","weekday","selectTerm","state","term","selectCurrentTerm","courseListThisTerm","selectCurrentSelectedCourseIds","coursesAndPlans","selectCoursesAndPlans","item","includes","createSlice","name","initialState","reducers","toggleSelection","action","payload","push","toggleVisibility","log","setColor","actions","ColorPicker","courseId","useState","changing","setChanging","useSelector","dispatch","useDispatch","className","style","onClick","sort","onChangeComplete","hex","width","triangle","CreditCount","credits","preValue","curValue","courseInfo","val","SelectedCourses","a","b","localeCompare","to","Searcher","setFilter","focusItem","setFocusItem","matchedCourses","nVisibleCourses","collapseSuggestions","changeText","document","getElementById","handleShortcuts","event","key","useEffect","window","addEventListener","removeEventListener","text","onCourseToggle","CourseInfo","CourseList","toLowerCase","min","isFocused","placeholder","autoComplete","onChange","target","onKeyDown","time_location","short_days","num_days","downloadCalendar","cur_term_info","list_of_events","start_date_term","Date","end_date_term","each_courses","course_info","course_schedule","course_title","same_time","each_slot","start_time_day","end_time_day","each_time","meet_day","first_day","getFullYear","getMonth","getUTCDate","toISOString","first_session_start","first_session_end","repeat_date","each_meet_day","current_event","time_stamp","timezone","summary","repeating","until","byDay","cal","ical","blob","filename","link","createElement","navigator","msSaveOrOpenBlob","objectUrl","URL","createObjectURL","download","href","dispatchEvent","MouseEvent","revokeObjectURL","downloadUrl","Blob","toString","type","ExportCalendar","props","trimesterInfo","ExternalExporter","InfoBar","calendarRef","componentRef","Schedule","currentCourseSelection","useRef","Helmet","ref","AddDropBtn","preStatus","toast","success","autoClose","TableView","filteredCourses","CourseCard","GalleryView","Filter","instructors","index","self","options","isMulti","majorFilter","setMajorFilter","setInstructorFilter","instructorFilter","setLevelFilter","levelFilter","setCategoryFilter","categoryFilter","usePersistedState","defaultValue","tmp","setState","setItem","stringify","Offerings","compact","oneFilter","filterList","getDetail","manyToMany","matchers","obj","matcher","head","search","getMajor","getLevel","getFilteredCourses","role","OneCourse","useParams","OneStop","url","Row","header","content","paddingLeft","location","Contributor","contributor","src","avatar_url","alt","html_url","login","contributions","Contributors","contributors","setContributors","axios","get","then","res","data","CTA","About","frameBorder","allow","allowFullScreen","Contribute","standardizeRoom","char","Rooms","room","setRoom","allCourses","roomList","array","EventForm","eventName","daysOccuring","setEvent","selectedDays","setSelectedDays","isSubmitted","setIsSubmitted","recordEventDetails","e","handleFocus","onSubmit","preventDefault","newEventId","uuidv4","existingEventsJSON","existingEvents","newEvent","trim","allEvents","htmlFor","required","onFocus","classNamePrefix","selectedOption","daysString","option","CustomSchedule","Main","path","Footer","set","forward","pos","backward","prettyTerm","mid","TermSwitch","termId","getTermId","isFirst","isLast","disabled","RedDot","height","top","NavLink","icon","isNew","isCurrentView","useLocation","pathname","TopNav","moment","fromNow","App","store","configureStore","reducer","selectedCoursesReducer","termReducer","preloadedState","serialisedState","loadFromLocalStorage","ReactDOM","render","StrictMode","subscribe","saveToLocalStorage","getState"],"mappings":"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","file":"static/js/main.7c18be6e.chunk.js","sourcesContent":["import COLORS from './colors.json'\nimport Fall2023 from './2023-2024 Fall 2023 Term.json'\nimport Spring2024 from './2023-2024 Spring 2024 Term.json'\n\nexport interface Course {\n    title: string;\n    id: string;\n    credits: string | null;\n    instructor: string;\n    url: string;\n    description: string;\n    categories: string[];\n    schedule: {\n        day: string;\n        start_time: string;\n        end_time: string;\n    }[];\n    location?: string;\n}\n\nconst courseData: {[key: string]: Course[]} = {Fall2023, Spring2024}\nconst availableTerms: string[] = ['Fall2023', 'Spring2024']\n\nexport {COLORS, courseData, availableTerms}\n","import {COLORS} from '../data'\n\n// Return an appropriate text color (black/white)\n// based on background color\nexport const getTextColor = (bg: string) => {\n  const backgroundColor = (bg ? bg : '#000000')\n\n  const rgb = [\n    parseInt(backgroundColor.slice(1, 3), 16),\n    parseInt(backgroundColor.slice(3, 5), 16),\n    parseInt(backgroundColor.slice(5, 7), 16),\n  ]\n  const brightness = Math.round(((rgb[0] * 299) +\n  (rgb[1] * 587) +\n  (rgb[2] * 114)) / 1000);\n  return (brightness > 125) ? 'black' : 'white'\n}\n\nexport const getRandomColor = () => {\n  const colorId = Math.floor(Math.random() * COLORS.length)\n  return COLORS[colorId]\n}\n\nexport const getRarestColor = (colors: Array<string>) => {\n  const freq: {[key: string]: number} = {}\n  COLORS.forEach(color => {\n    freq[color] = colors.filter(_color => _color === color).length\n  })\n\n  let ret: string = COLORS[0]\n  COLORS.forEach((color) => {\n    if (freq[color] < freq[ret]) {\n      ret = color\n    }\n  })\n  return ret\n}","const config =  {\n    last_updated: '2024-03-14 20:00+07',\n    currentTerm: 'Spring2024'\n}\n\nexport default config\n","// load string from localStarage and convert into an Object\n// invalid output must be undefined\nexport function loadFromLocalStorage() {\n  try {\n    const serialisedState = localStorage.getItem(\"persistantState\");\n    if (serialisedState === null) return undefined;\n    return JSON.parse(serialisedState);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\n\n// convert object to string and store in localStorage\nexport function saveToLocalStorage(state: Record<string, unknown>) {\n  try {\n    const serialisedState = JSON.stringify(state);\n    localStorage.setItem(\"persistantState\", serialisedState);\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\n// load personal plans from localStorage \nexport function loadPersonalPlansFromLocalStorage() {\n  try {\n    const plansJSON = localStorage.getItem(\"personalPlans\");\n    if (plansJSON === null) return []; // no plans yet\n\n    const plans = JSON.parse(plansJSON);\n\n    if (!Array.isArray(plans)) { // validate \n      console.warn(\"Plans in localStorage is not an array\");\n      return [];\n    }\n\n    return plans; // returns a list of plans which has format: [{id: string, creidts: number, title: string, description: str, url: str, instructor: str, location: str, etc}]\n  }\n  catch (error) {\n    console.warn(\"Error loading personal plans from localStorage: \", error);\n    return []; \n  }\n}","// import { GroupBase, Options } from \"react-select\"\nimport { availableTerms, Course, courseData } from \"../data\"\nimport config from './config'\nimport { loadPersonalPlansFromLocalStorage } from \"./localStorage\"\n\n\nexport const MAJORS = [\n  {value: 'ARTS', label: 'Arts and Media'},\n  {value: 'CORE', label: 'Core'},\n  {value: 'CS', label: 'Computer Science'},\n  {value: 'ECON', label: 'Economics'},\n  {value: 'ENG', label: 'Engineering'},\n  {value: 'HIS', label: 'History'},\n  {value: 'IS', label: 'Integrated Science'},\n  {value: 'LIT', label: 'Literature'},\n  {value: 'MATH', label: 'Mathematics'},\n  {value: 'PSY', label: 'Psychology'},\n  {value: 'SOCI', label: 'Social Sciences'},\n  {value: 'VS', label: 'Vietnamese Studies'}\n]\n\nexport const CATEGORIES = ['Core', 'E1', 'E2', 'E3', 'E4', 'C1', 'C2', 'C3', 'C4', 'Seminar', 'EL', 'Personal']\n  .map(s => ({label: s, value: s}))\n\nexport const LEVELS = ['100', '200', '300'].map(\n  level => ({label: level, value: level})\n)\n\nexport const getCourse = (id: string) => {\n  const allCourses: Course[] = availableTerms.reduce(\n    (courses, thisTerm) => {\n      const coursesThisTerm = courseData[thisTerm] \n      const personalPlans = loadPersonalPlansFromLocalStorage()\n      const combined = [...coursesThisTerm, ...personalPlans] // AMOGUS\n      return courses.concat(combined)\n    }, \n    [] as Course[]\n  )\n  const matches = allCourses.filter(course => {\n    return course.id === id\n  })\n  if (matches.length > 0) {\n    return matches[0]\n  } else {\n    return null\n  }\n}\n\nexport const getMajor = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head.slice(0, split)\n}\n\nexport const getLevel = (id: string) => {\n  const head = id.slice(0, id.indexOf('_'))\n  const split = head.search(/\\d/g)\n  return head[split] + '00'\n}\n\n// export const getDates = (course) => `${course.start_date} - ${course.end_date}`\n\nexport const getSchedule = (course: Course) => course.schedule\n  .map(({day, start_time, end_time}) => `${day} ${start_time} - ${end_time}`)\n  .join('\\n')\n\nexport const getNotes = (course: Course) => course.description.split('---')[0]\n\nexport const getCategories = (course: Course) => course.categories.join(', ')\n\nexport const getDescription = (course: Course) => {\n  const des = course.description\n  const split = des.indexOf('---')\n  return des.slice(split + 4)\n}\n\nexport const isSelected = (selected: Array<Course>, id: string) => \n  (selected.filter(course => course.id === id).length > 0)\n\nexport const getRandomCourses = (n: number) => {\n  const courses = courseData[config.currentTerm]\n  const total = courses.length\n  if (n > total) {\n    throw new RangeError(\"Requesting more elements than available.\")\n  }\n  const chosen: string[] = []\n  while (n--) {\n    const available = courses.filter(course => !chosen.includes(course.id))\n    const id = Math.floor(Math.random() * available.length)\n    chosen.push(courses[id].id)\n  }\n  return chosen\n}","import FullCalendar from '@fullcalendar/react'\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport { getTextColor } from '../../utils/colors';\nimport { getCourse } from '../../utils/course';\nimport './Calendar.scss'\n\nconst Calendar = ({selectedCourses}) => {\n  \n  const dayId = {\n    'Sunday': 0,\n    'Monday': 1,\n    'Tuesday': 2,\n    'Wednesday': 3,\n    'Thursday': 4, \n    'Friday': 5,\n    'Saturday': 6,\n  }\n\n  const getTimeblocks = (course) => {\n\n    return course.schedule.reduce((blocks, block) => blocks.concat({\n      title: `${course.title} (${course.instructor})`,\n      daysOfWeek: [dayId[block.day]],\n      startTime: block.start_time,\n      endTime: block.end_time,\n      backgroundColor: course.color,\n      textColor: getTextColor(course.color),\n    }), [])\n  }\n\n  const visibleCourses = selectedCourses\n  .filter(course => course.visible)\n  .map(course => {\n      const info = getCourse(course.id)\n      return {...info, color: course.color}\n    })\n  \n  const events = visibleCourses\n    .reduce((events, course) => events.concat(getTimeblocks(course)), [])\n\n  return (\n  <FullCalendar\n    plugins={[ timeGridPlugin ]}\n    initialView=\"timeGridWeek\"\n    events = {events}\n    slotMinTime = \"00:00\"\n    slotMaxTime = \"24:00\"\n    scrollTime = \"09:00\"\n    hiddenDays = {[]}\n    firstDay={1}\n    expandRows = {true}\n    allDaySlot = {false}\n    headerToolbar = {\n      ({\n        start: \"\",\n        center: \"\",\n        end: \"\"\n      })\n    }\n    dayHeaderFormat = { {weekday: 'short' }}\n  />\n  )\n}\n\nexport default Calendar\n","import { courseData } from '../data'\nimport { loadPersonalPlansFromLocalStorage } from '../utils/localStorage'\nimport { RootState } from './index'\n\nexport const selectTerm = (state: RootState) => state.term.value\n\n// should be named selectCurrentTermCourses :) it returns courses not term name\nexport const selectCurrentTerm = (state: RootState) => {\n  const courseListThisTerm = courseData[state.term.value]\n  const personalPlans = loadPersonalPlansFromLocalStorage() \n  return [...courseListThisTerm, ...personalPlans]\n}\n\nexport const selectCoursesAndPlans  = (state: RootState) => {\n  const personalPlans = loadPersonalPlansFromLocalStorage()\n  const thisTerm = state.term.value \n  const coursesThisTerm = courseData[thisTerm] \n\n  const combined = [...coursesThisTerm, ...personalPlans]\n  \n  return combined \n}\n\nexport const selectCurrentSelectedCourseIds = (state: RootState) => {\n  const coursesAndPlans = selectCoursesAndPlans(state)\n\n  return state.selectedCourses.value.filter(\n    item => {\n      const idList = coursesAndPlans.map(item => item.id)\n      // console.log('idList', idList) // vao den day roi van con ca courses va plans\n      // console.log('mimimi', idList.includes(item.id)) // true \n      return idList.includes(item.id)\n    }\n  ) \n}","import { createSlice } from \"@reduxjs/toolkit\";\nimport { Course } from \"../data\";\nimport { getRarestColor } from \"../utils/colors\";\n\nexport interface SelectedCourseState {\n  id: string,\n  selected: boolean,\n  visible: boolean,\n  color: string\n}\n\nconst initalState: SelectedCourseState[] = []\n\nconst selectedCourses = createSlice({\n  name: 'selectedCourses',\n  initialState: {\n    value: initalState\n  },\n  reducers: {\n    toggleSelection: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (!isSelected) {\n        state.value.push({\n          'id': id,\n          'selected': true,\n          'visible': true,\n          'color': getRarestColor(state.value.map(course => course.color))\n        })\n      } else {\n        state.value = state.value.filter(course => course.id !== id)\n      }\n    },\n    toggleVisibility: (state, action) => {\n      const {id} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, visible: !course.visible}\n          : course\n        ))\n      } else {\n        console.log('Warning: Toggle visibility of a non-existing course');\n      }\n    },\n    setColor: (state, action) => {\n      const {id, color} = action.payload\n      const isSelected = (state.value.filter(course => course.id === id).length > 0)\n      if (isSelected) {\n        state.value = state.value.map(course => (\n          course.id === id\n          ? {...course, color: color}\n          : course\n        ))\n      } else {\n        console.log('Warning: Set color of a non-existing course');\n      }\n    }\n  }\n})\n\nexport default selectedCourses.reducer\n\nexport const {toggleSelection, toggleVisibility, setColor} = selectedCourses.actions","import { useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { setColor } from \"../../store/selectedCoursesSlice\"\nimport { TwitterPicker } from \"react-color\"\nimport {COLORS} from '../../data/'\nimport './ColorPicker.scss'\n\nconst ColorPicker = ({ courseId }) => {\n    const [changing, setChanging] = useState(false)\n    const color = useSelector(state => state.selectedCourses.value\n        .filter(course => course.id === courseId)[0].color)\n    const dispatch = useDispatch()\n\n    const changeColor = (color) => {\n        dispatch(setColor({ id: courseId, color: color.hex }))\n        setChanging(false)\n    }\n    return (\n        <div className='me-2'>\n            <div className=\"dropdown\">\n                <button className=\"btn p-3 m-1\" style={({ backgroundColor: color })}\n                    onClick={() => { setChanging(!changing) }}\n                />   \n                {\n                    changing\n                    ? <TwitterPicker\n                        colors={COLORS.sort()}\n                        onChangeComplete={changeColor}\n                        width=\"18rem\"\n                        triangle=\"hide\"\n                        className=\"position-absolute twitter-picker border\"\n                    />\n                    : <></>\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default ColorPicker","import { useDispatch } from \"react-redux\"\nimport { Link } from \"react-router-dom\"\nimport { toggleSelection, toggleVisibility } from \"../../store/selectedCoursesSlice\"\nimport { getCourse } from \"../../utils/course\"\nimport ColorPicker from \"./ColorPicker\"\nimport './SelectedCourses.scss'\n\nconst CreditCount = ({selectedCourses}) =>{\n  const credits = selectedCourses.reduce((preValue, curValue) => {\n    const courseInfo = getCourse(curValue.id)\n    const val = parseInt(courseInfo.credits)\n    return preValue + (curValue.visible ? val : 0)\n  } , 0\n  )\n\n  return (\n    <div className=\"fw-bold\">\n      <span className=\"d-inline d-sm-none d-lg-inline\"> </span> Credits: {credits}\n    </div>\n  )\n}\n\nconst SelectedCourses = ({selectedCourses}) => {\n  const dispatch = useDispatch()\n\n  return (\n  <div className=\"selected-course-list d-flex flex-column overflow-scroll mt-2\">\n    {\n      selectedCourses\n      .map(course => {\n        const info = getCourse(course.id)\n        return {...course, title: info.title, instructor: info.instructor}\n      })\n      .sort((a, b) => a.title.localeCompare(b.title))\n      .map((course) => (\n        // A COURSE\n        <div className=\"selected-course d-flex flex-row justify-content-between align-items-start mt-2 pb-2\" key={course.id}> \n          {/* INFORMATION */}\n          <div className=\"info flex-grow-1 d-flex flex-column text-start\">\n            <Link className=\"fw-bold text-decoration-none\"\n              to={`/courses/${course.id}`}\n            >\n              {course.title}\n            </Link>\n            <div className='d-flex flex-row align-items-center mt-2'>\n              <ColorPicker courseId={course.id}/>\n              <div className='d-flex flex-column'>\n                <small className=\"selected-instructor\"> {course.id} | {course.instructor} </small>\n              </div>\n            </div>\n          </div>\n          {/* EDIT BUTTONS */}\n          <div className=\"togglers d-flex flex-column\">\n            <div \n              className=\"btn eye\"\n              onClick={() => dispatch(toggleVisibility({id: course.id}))}\n            >\n              {course.visible ? \n              <i className=\"fas fa-eye \"></i> : <i className=\"fas fa-eye-slash \"></i>}\n            </div>\n            <div \n              className=\"btn trash\"\n              onClick={() => dispatch(toggleSelection({id: course.id}))}\n            >\n              <i className=\"fas fa-trash \"></i>\n            </div>\n          </div>\n        </div>\n      ))   \n    }    \n  </div>\n  )\n}\n\nexport {SelectedCourses, CreditCount}","import {useEffect, useState} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { toggleSelection } from '../../store/selectedCoursesSlice'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { isSelected } from '../../utils/course'\nimport './Searcher.scss'\nimport { selectCurrentSelectedCourseIds } from '../../store/selectors'\nimport { Link } from 'react-router-dom'\n\nconst Searcher = () => {\n  const [ filter, setFilter ] = useState('')\n  const [ focusItem, setFocusItem ] = useState(0)\n  const dispatch = useDispatch()\n\n  const selectedCourses = useSelector(selectCurrentSelectedCourseIds)\n\n  const courses = useSelector(selectCurrentTerm) // AMOGUS\n\n  let matchedCourses = []\n  let nVisibleCourses = 0\n\n  const handleArrowDown = () => {\n    setFocusItem((focusItem + 1) % nVisibleCourses)\n  }\n\n  const handleArrowUp = () => {\n    setFocusItem((focusItem + nVisibleCourses - 1) % nVisibleCourses)\n  }\n\n  const collapseSuggestions = () => {\n    changeText(\"\")\n    document.getElementById('search-input').value = \"\"\n  }\n\n  const handleShortcuts = (event) => {\n    if (event.key === 'Escape') {\n      collapseSuggestions()\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleShortcuts)\n\n    return () => {\n      window.removeEventListener('keydown', handleShortcuts)\n    }\n  })\n\n  const changeText = (text) => {\n    setFilter(text);\n    setFocusItem(0);\n  }\n\n  const onInputChanged = (event) => {\n    const text = event.target.value;\n    changeText(text);\n  }\n\n  const onCourseToggle = (id) => {\n    dispatch(toggleSelection({id}))\n    collapseSuggestions()\n  }\n  \n  // search appearances\n  const CourseInfo = (course) => {\n    return (\n      // <div className=\"d-flex flex-row justify-content-between align-items-center\">\n      //   <div className=\"course-id text-sm\">{course.id.split(\"_\")[0]}</div>\n      //   <div className=\"mx-1 course-title\">{course.title}</div>\n      //   <div className=\"instructor-name text-sm mx-1 border-left\">{course.instructor}</div>\n      // </div>\n      <div>\n        <b>{course.title}</b>\n        {` by ${course.instructor} [${course.id}]`}\n      </div>\n    )\n  }\n  \n  // compare input to course data\n  const CourseList = () => {\n    matchedCourses = courses.filter((course) => \n      (course.title + \"|\" + course.instructor + \"|\" + course.id) //course.id.split(\"_\")[0]) to exclude _Fall2021_... part\n      .toLowerCase().includes(filter.toLowerCase())\n    )\n\n    if (matchedCourses.length === 0) {\n      return (\n      <button className=\"list-group-item\">\n        No courses or plans matched. <br /> \n          <Link to=\"/custom-schedule\" >\n            Create a new plan.\n          </Link>\n      </button>)\n    } else {\n      nVisibleCourses = Math.min(5, matchedCourses.length)\n      return matchedCourses\n        .slice(0, nVisibleCourses)\n        .map((course) => \n          <button \n            className={`\n              px-0 list-group-item\n              ${isSelected(selectedCourses, course.id) ? \"fw-bold\" : \"\"}\n              ${isFocused(course.id) ? \"focus\" : \"\"}\n            `}\n            onClick={() => onCourseToggle(course.id)}\n            key={course.id}\n          >\n            {CourseInfo(course)}\n          </button>\n        )\n    }\n  }\n\n  const isFocused = (id) => (matchedCourses[focusItem].id === id)\n  \n  return (\n    <div className=\"filter position-relative\">\n      <input \n        className=\"form-control py-2\" \n        id=\"search-input\"\n        placeholder=\"Add courses to schedule\"\n        autoComplete=\"off\"\n        onChange={onInputChanged} \n        onKeyDown={(event) => {\n          // TODO: refactor\n          if (event.key === 'ArrowUp') {\n            handleArrowUp()\n          } else if (event.key === 'ArrowDown') {\n            handleArrowDown()\n          } else if (event.key === 'Enter') {\n            if (matchedCourses.length === 0) {\n              return \n            }\n            onCourseToggle(matchedCourses[focusItem].id)\n          }\n        }}\n      />\n      {\n        filter !== \"\" ?\n          <div className=\"selecting list-group shadow position-absolute w-100\">\n            <CourseList/>\n            {/* <p className=\"list-group-item\"> {matchedCourses.length} courses matched. </p> */}\n          </div>\n        : <></>\n      }\n    </div>\n  )\n}\n\nexport default Searcher","import React from 'react'\nimport ical from 'ical-generator'\nimport { selectTerm } from '../../store/selectors';\nimport { useSelector } from 'react-redux';\nimport trimesterInfo from '../../data/trimester_info.json'\nimport { getCourse } from '../../utils/course';\n\nconst time_location = \"Asia/Ho_Chi_Minh\";\nconst short_days = {\n    'Monday': 'mo',\n    'Tuesday': 'tu',\n    'Wednesday': 'we',\n    'Thursday': 'th',\n    'Friday': 'fr',\n    'Saturday': 'sa',\n    'Sunday': 'su'\n}\nconst num_days = {\n    'Monday': 0,\n    'Tuesday': 1,\n    'Wednesday': 2,\n    'Thursday': 3,\n    'Friday': 4,\n    'Saturday': 5,\n    'Sunday': 6\n}\n\nfunction downloadUrl(blob, filename) {\n    const link = document.createElement('a');\n    if (window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      const objectUrl = URL.createObjectURL(blob);\n      link.download = filename;\n      link.href = objectUrl;\n      link.dispatchEvent(new MouseEvent('click'));\n      URL.revokeObjectURL(objectUrl);\n    }\n  }\n\nfunction downloadCalendar(selectedCourses, cur_term_info) {\n    let list_of_events = []\n    //Info about current semester\n    const start_date_term = new Date(cur_term_info['start_date'])\n    const end_date_term = new Date(cur_term_info['end_date'])\n    //For each course\n    for (let each_courses of selectedCourses) {\n        if (!each_courses.visible) {\n            continue\n        }\n        let course_info = getCourse(each_courses.id)\n        let course_schedule = course_info.schedule\n        let course_title = course_info.title\n\n        //check if course has same time slot for different day\n        let same_time = true;\n        if (course_schedule.length > 0) {\n            let start_time = course_schedule[0]?.start_time\n            let end_time = course_schedule[0]?.end_time\n            for (let each_slot of course_schedule) {\n                let start_time_day = each_slot['start_time']\n                let end_time_day = each_slot['end_time']\n                if (! (start_time == start_time_day && end_time == end_time_day)) { //different timeslot\n                    same_time = false\n                    break\n                }\n            }\n        }\n        else {  // course have no schedule yet, exit to prevent bug\n            continue;\n        }\n\n        //same time slot => merge into single events for convenience\n        if (same_time) {\n            let each_time = course_schedule[0]\n            let meet_day = each_time['day']\n            let start_time = each_time['start_time']\n            let end_time = each_time['end_time']\n            //By ical convention: set event for first day, then add repeat later. Assume that week day is in order (i.e Tue as [0], Thu as [1])\n            let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n            first_day = first_day.toISOString().slice(0,10)\n            let first_session_start = new Date(first_day+\"T\"+start_time)\n            let first_session_end = new Date(first_day+\"T\"+end_time)\n            let repeat_date = []\n            for (let each_slot of course_schedule) {\n                let each_meet_day = each_slot['day']\n                repeat_date.push(short_days[each_meet_day])\n            }\n            //Standard ical format\n            let current_event = {\n                start: first_session_start,\n                end: first_session_end,\n                time_stamp: new Date(),\n                timezone: time_location,\n                summary: course_title,\n                repeating: {\n                    freq: 'WEEKLY',\n                    until: end_date_term,\n                    byDay: repeat_date,\n                }\n            }\n            list_of_events.push(current_event)\n        }\n        //Course might have several time -> treat each different time slot as different events\n        else {\n            for (let each_time of course_schedule) {\n                //Meet_day: th\n                let meet_day = each_time['day']\n                let start_time = each_time['start_time']\n                let end_time = each_time['end_time']\n                //By ical convention: set event for first day, then add repeat later\n                let first_day = new Date(start_date_term.getFullYear(),start_date_term.getMonth(),start_date_term.getUTCDate()+num_days[meet_day])\n                first_day = first_day.toISOString().slice(0,10)\n                let first_session_start = new Date(first_day+\"T\"+start_time)\n                let first_session_end = new Date(first_day+\"T\"+end_time)\n                //Standard ical format\n                let current_event = {\n                    start: first_session_start,\n                    end: first_session_end,\n                    time_stamp: new Date(),\n                    timezone: time_location,\n                    summary: course_title,\n                    repeating: {\n                        freq: 'WEEKLY',\n                        until: end_date_term,\n                        byDay: [short_days[meet_day]],\n                    }\n                }\n                list_of_events.push(current_event)\n            }\n        }\n    }\n    console.log(list_of_events)\n    const cal = ical({\n        events: list_of_events\n    });\n    const blob = new Blob([cal.toString()], { type: 'text/plain' }); \n    const time_stamp = (new Date()).toISOString().slice(0,19);\n    const file_name = 'Fulbright-calendar_' + time_stamp + '.ics'\n    downloadUrl(blob, file_name)\n}\n\nconst ExportCalendar= (props) => {\n    const cur_term_info = trimesterInfo.filter(term => term['name'] == useSelector(selectTerm))[0]\n    return (\n    <button type=\"button\" className=\"btn btn-white \" \n        onClick={() => {downloadCalendar(props.selectedCourses, cur_term_info)}}>\n        <i className=\"fa fa-calendar me-3\" aria-hidden=\"true\"></i>\n        Calendar file (ics)\n    </button>\n    )\n}\n\nexport default ExportCalendar\n\n","import React from 'react';\n// import { exportComponentAsJPEG} from 'react-component-export-image';\nimport ExportCalendar from './ExportCalendar';\n\nimport './ExternalExporter.scss';\nimport '../utils/index.scss'\n\n\n// const jpgFilePropoties = {\n//     fileName : \"Fulbright-course-calendar.jpg\",\n//     html2CanvasOptions: {\n//       allowTaint: true,\n//       useCORS: true,\n//       logging: false,\n//       height: 722,\n//       windowHeight: 722, \n//     }\n// }\n\nconst ExternalExporter = (props) => {\n  return (\n  <div className=\"dropdown\">\n      <button className=\"btn cta dropdown-toggle float-left\"\n       type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n        <i className=\"fa fa-download me-2\" aria-hidden=\"true\"></i>\n      </button>\n      <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n        {/* <li>\n          <button type=\"button\" className=\"btn btn-white \" \n            onClick={() => {exportComponentAsJPEG(props.componentRef, jpgFilePropoties)}}>\n            <i className=\"fa fa-file-image-o me-3\" aria-hidden=\"true\"></i>\n            Image file (jpg)\n          </button>\n        </li> */}\n\n        <li>\n          <ExportCalendar selectedCourses={props.selectedCourses}></ExportCalendar>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default ExternalExporter\n\n\n//Future\n// function saveAsPDF() {\n//   html2canvas($('div.panel.panel-default'), {\n//       onrendered: function (canvas) {\n//           var wid;\n//           var hgt;\n//           var img = canvas.toDataURL(\"image/png\", wid = canvas.width, hgt = canvas\n//           .height); //image data of canvas\n//           var hratio = hgt / wid;\n//           var doc = new jsPDF({\n//               orientation: \"landscape\"\n//           });\n//           var width = doc.internal.pageSize.width;\n//           var height = doc.internal.pageSize.height;\n//           var height = width * hratio;\n//           doc.addImage(img, 'JPEG', width*.025, 20, width*.95, height*.95);\n//           doc.save('AssetComparison.pdf');\n//       }\n//   });\n// }","import {SelectedCourses, CreditCount} from './SelectedCourses'\nimport Searcher from './Searcher'\nimport DownloadBtn from './ExternalExporter'\nimport './InfoBar.scss'\n\n\nconst InfoBar = ({selectedCourses,calendarRef}) => {\n\n  return (\n    <div className='info-bar d-flex flex-column'>\n      <Searcher />\n      \n      <SelectedCourses\n        selectedCourses={selectedCourses}\n      />\n\n      <div className=\"toolbar w-100 justify-content-between d-flex mt-auto border border-primary border-1 rounded\">\n          <div className=\"my-auto mx-auto text-left\">\n            <CreditCount \n              selectedCourses={selectedCourses}\n            />\n          </div>\n\n          <div className=\"d-none d-md-block\">\n            <DownloadBtn\n              className=\"calendar-exporter\" \n              componentRef={calendarRef}\n              selectedCourses={selectedCourses}>\n            </DownloadBtn>\n          </div>\n          \n      </div>\n    </div>\n  )\n}\n\nexport default InfoBar","import React, {useRef} from 'react'\nimport Calendar from './Calendar'\nimport './index.scss'\nimport { selectCurrentSelectedCourseIds } from '../../store/selectors'\nimport { useSelector } from 'react-redux'\nimport { Helmet } from 'react-helmet'\nimport InfoBar from './InfoBar'\n\nconst Schedule = () => {\n  const currentCourseSelection = useSelector(selectCurrentSelectedCourseIds)\n  const calendarRef = useRef()\n\n  return (\n    <div className='row w-100 m-0'>\n      <Helmet>\n        <title>OneSchedule</title>\n      </Helmet>\n\n      {/* COLLAPSABLE INFO BAR - FOR SMALL DEVICES */}\n      <div className=\"d-lg-none d-block mb-3\">\n        <button className=\"btn btn-primary\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-info-bar\" aria-expanded=\"false\" aria-controls=\"collapsable-info-bar\">\n          Edit schedule\n        </button>\n        <div className=\"collapse mt-3\" id=\"collapsable-info-bar\">\n          <InfoBar\n            selectedCourses={currentCourseSelection}\n          />\n        </div>\n      </div>\n\n      {/* CALENDAR  */}\n      <div ref={calendarRef} className=\"col-lg-9\">\n        <Calendar\n          selectedCourses={currentCourseSelection} \n        />\n      </div>\n      \n      {/* PERSISTENT INFO BAR - FOR LARGE DEVICES */}\n      <div className=\"d-lg-inline-block d-none col-3\">\n        <InfoBar\n          selectedCourses={currentCourseSelection}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Schedule\n","import React from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport { toast } from \"react-toastify\"\nimport { toggleSelection } from \"../../store/selectedCoursesSlice\"\n\nconst AddDropBtn = ({course, preStatus}) => {\n  const dispatch = useDispatch()\n\n  const onToggleSelection = () => {\n    dispatch(toggleSelection({id: course.id}))\n    toast.success(preStatus ? 'Course removed!' : 'Course added!', {\n      autoClose: 2000\n    })\n  }\n\n  return (<div className={`cta ${preStatus ? 'bg-warning text-dark' : ''} flex-shrink-2`}\n    onClick={onToggleSelection}\n  > \n    { preStatus ? 'Remove' : 'Add' }\n  </div>)\n}\n\nexport default AddDropBtn","import { Link } from \"react-router-dom\"\nimport { getCategories, isSelected } from \"../../utils/course\"\nimport AddDropBtn from \"../utils/AddDropBtn\"\n\nconst TableView = ({filteredCourses, selectedCourses}) => {\n  return <table className='table table-hover table-bordered align-middle'>\n    <thead className='table-light'>\n      <tr>\n        <th className='d-none d-md-table-cell'>ID</th>\n        <th className='d-none d-md-table-cell'>Categories</th>\n        <th>Title</th>\n        <th className='d-none d-md-table-cell'>Instructor</th>\n        <th> Action </th>\n      </tr>\n    </thead>\n    <tbody>\n      {filteredCourses.map(course => (\n        <tr key={course.id}>\n            <td className='d-none d-md-table-cell'> \n              {course.id}\n            </td>\n            <td className='d-none d-md-table-cell'>{getCategories(course)}</td>\n            <td>\n              <Link to={`/courses/${course.id}`} \n                className='text-decoration-none fw-bold' \n              >\n                {course.title}\n              </Link>\n            </td>\n            <td className='d-none d-md-table-cell' >\n              {course.instructor}\n            </td>\n            <td>\n              <AddDropBtn course={course} preStatus={isSelected(selectedCourses, course.id)} /> \n            </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n}\n\nexport default TableView","import { Link } from \"react-router-dom\"\n\nconst CourseCard = ({course}) => {\n  return <Link \n    to={`/courses/${course.id}`}\n    className='course-card d-flex flex-column align-items-center m-4 shadow overflow-hidden'\n  >\n    <div className='thumbnail p-2 w-100 flex-shrink-0 d-flex justify-content-center align-items-center'>\n      <h5 className='thumbnail-text multiple-lines'>{course.id}</h5>\n    </div>\n    <div className='d-flex flex-column align-items-start p-3 text-start'>\n      <div className='fw-bold  mb-2'>{course.title}</div>\n      <div>{course.instructor}</div>\n    </div>\n  </Link>\n}\n\n\nconst GalleryView = ({filteredCourses}) => {\n  return <div className='d-flex flex-row flex-wrap justify-content-center'>\n    {filteredCourses.map(course => (\n      <CourseCard course={course} key={course.id}/>\n    ))}\n  </div>\n}\n\nexport default GalleryView","import { Dispatch, SetStateAction } from 'react'\nimport { useSelector } from 'react-redux'\nimport Select, { Options } from 'react-select'\nimport { selectCurrentTerm } from '../../store/selectors'\nimport { CATEGORIES, LEVELS, MAJORS } from '../../utils/course'\n\n// type StringStateSetter = Dispatch<SetStateAction<string>>\n\n// interface FilterProps {\n//   majorFilter: string,\n//   setMajorFilter: StringStateSetter,\n//   instructorFilter: string,\n//   setInstructorFilter: Dispatch<SetStateAction<string>>,\n//   levelFilter: string,\n//   setLevelFilter: Dispatch<SetStateAction<string>>,\n//   categoryFilter: string,\n//   setCategoryFilter: Dispatch<SetStateAction<string>>\n// }\n\n// const fooOptions: Options<string> = ['abc']\n\nconst Filter = (props) => {\n  const courses = useSelector(selectCurrentTerm)\n  // Instructor options for filter\n  // NOTE: Majors and levels are saved as constants\n  const instructors = courses\n    .map(course => course.instructor)\n    .filter((value, index, self) => self.indexOf(value) === index)\n    .map(name => ({value: name, label: name}))\n\n  return (\n    <div className='bg-light p-3 border rounded collapse show' id='collapsable-filters'>\n      <h4 className='border-bottom pb-1'>Filters</h4>\n\n      <div className='d-flex flex-column align-items-center'>\n        <div className='filter-card d-flex flex-column'>\n          <div className='mb-1'>Majors</div>\n          <Select options={MAJORS} isMulti \n          value={props.majorFilter}\n          onChange={props.setMajorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Instructors</div>\n          <Select options={instructors} isMulti\n          onChange={props.setInstructorFilter}\n          value={props.instructorFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Levels</div>\n          <Select options={LEVELS} isMulti\n          onChange={props.setLevelFilter}\n          value={props.levelFilter}\n          />\n        </div>\n\n        <div className='filter-card d-flex flex-column mt-3'>\n          <div className='mb-1'>Categories</div>\n          <Select options={CATEGORIES} isMulti\n          onChange={props.setCategoryFilter}\n          value={props.categoryFilter}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Filter","import {useState, useEffect} from 'react'\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch, RootState } from '../store';\n\n// Persisted state by saving to local storage\nexport function usePersistedState(key: string, defaultValue: string | number) {\n  const tmp = localStorage.getItem(key)\n  const [state, setState] = useState(\n    () => tmp ? JSON.parse(tmp) : defaultValue\n  );\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n  return [state, setState];\n}\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch: () => AppDispatch = useDispatch\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import React, { useState } from 'react'\nimport './index.scss'\nimport { getLevel, getMajor } from '../../utils/course'\nimport { useSelector } from 'react-redux'\nimport moment from 'moment'\nimport config from '../../utils/config'\nimport { selectCurrentSelectedCourseIds, selectCurrentTerm, selectTerm } from '../../store/selectors'\nimport { Helmet } from 'react-helmet'\nimport TableView from './TableView'\nimport GalleryView from './GalleryView'\nimport Filter from './Filter'\nimport { usePersistedState } from '../../hooks'\n\nconst GalleryToggle = () => {\n  return <div className='d-none d-lg-block gallery-view bg-light p-3 border rounded mb-3'>\n    <div className=\"form-check form-switch d-flex flex-row align-items-center\">\n      <input className=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\"\n        onClick={() => setCompact(!compact)}\n      />\n      <label className=\"form-check-label ms-4\" htmlFor=\"flexSwitchCheckDefault\">Gallery (BETA)</label>\n    </div>\n  </div>\n}\n\nconst Offerings = () => {\n  const [compact, setCompact] = useState(true)\n  const selectedCourses = useSelector(selectCurrentSelectedCourseIds)\n  const courses = useSelector(selectCurrentTerm)\n  const term = useSelector(selectTerm)\n\n  const [majorFilter, setMajorFilter] = usePersistedState('majorFilter', [])\n  const [instructorFilter, setInstructorFilter] = usePersistedState('instructorFilter', [])\n  const [levelFilter, setLevelFilter] = usePersistedState('levelFilter', [])\n  const [categoryFilter, setCategoryFilter] = usePersistedState('categoryFilter', [])\n\n  const getFilteredCourses = () => {\n    const oneFilter = (filterList, courses, getDetail, manyToMany = false) => {\n      if (filterList.length !== 0) {\n        return courses.filter(course => {\n          // Determine if a course passes the filterList\n          const matchers = filterList\n            .map(obj => obj.value)\n          if (manyToMany) {\n            return matchers.filter(matcher => getDetail(course).includes(matcher))\n              .length > 0\n          } else {\n            return matchers.includes(getDetail(course))\n          }\n        })\n      } else {\n        return courses\n      }\n    }\n    let ret = courses\n    console.log(instructorFilter.length, majorFilter.length, levelFilter.length, categoryFilter.length);\n    // Filter the course list over 3 filters\n    ret = oneFilter(instructorFilter, ret, (course) => course.instructor)\n    ret = oneFilter(majorFilter, ret, (course) => getMajor(course.id))\n    ret = oneFilter(levelFilter, ret, (course) => getLevel(course.id))\n    ret = oneFilter(categoryFilter, ret, (course) => course.categories, true)\n    return ret\n  }\n\n  const filteredCourses = getFilteredCourses()\n\n\n  // NOTICE: In this component, 'lg' breakpoint is used instead of 'md' as usual.\n  return (\n    <div className='row'>\n      <Helmet>\n        <title>{term} Offerings</title>\n      </Helmet>\n\n      {/* COURSE LIST */}\n      <div className='col-lg-9 order-lg-1 order-2'>\n        <div className=\"alert alert-primary w-100\" role=\"alert\">\n          {/* <b>Last update: {moment(config.last_updated).fromNow()}. </b> */}\n          When in doubt, please double-check on OneStop.\n        </div>\n        {compact\n          ? <TableView filteredCourses={filteredCourses}\n            selectedCourses={selectedCourses}\n          />\n          : <GalleryView filteredCourses={filteredCourses} />}\n      </div>\n\n    {/* RIGHT BAR: FILTERS */}\n      <div className='right-bar col-lg-3 order-lg-2 order-1'>\n        {/* <GalleryToggle /> */}\n        <button className=\"d-lg-none btn btn-primary mb-3\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapsable-filters\" aria-expanded=\"true\" aria-controls=\"collapsable-filters\">\n          Filter\n        </button>\n        <Filter\n          majorFilter={majorFilter}\n          instructorFilter={instructorFilter}\n          categoryFilter={categoryFilter}\n          levelFilter={levelFilter}\n          setMajorFilter={setMajorFilter}\n          setInstructorFilter={setInstructorFilter}\n          setCategoryFilter={setCategoryFilter}\n          setLevelFilter={setLevelFilter}\n        />\n\n        <div className='right-bar-course-count my-3 fw-bold'> {filteredCourses.length} course(s) found </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Offerings\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { useSelector } from 'react-redux'\nimport { useParams, useRouteMatch } from 'react-router-dom'\nimport { getCategories, getCourse, getDescription, getNotes, getSchedule, isSelected } from '../../utils/course'\nimport AddDropBtn from '../utils/AddDropBtn'\nimport './OneCourse.scss'\nimport { Link } from 'react-router-dom'\n\nconst OneCourse = () => {\n  const courseId = useParams().id\n  const course = getCourse(courseId)\n  if (!course) {\n    return <div>\n      <h1>Course not found</h1>\n      <p>If you think this is a bug, let us know!</p>\n      <br />\n      <p>Or \n      <Link to='/custom-schedule'> create a new personal plan.</Link>\n      </p>\n    </div>\n  }\n  const selectedCourses = useSelector(state => state.selectedCourses.value)\n  const selected = isSelected(selectedCourses, course.id)\n  \n  const OneStop = () => (\n    <a href={course.url}> {course.id} </a>\n  )\n  const Row = ({header, content}) => {\n    return (\n      <tr>\n        <td className='fw-bold'> {header} </td>\n        <td className='multiple-lines'> {content} </td>\n      </tr>\n    )\n  }\n  \n  return (\n    <div className='text-start m-4'>\n      <Helmet>\n        <title> {course.title} </title>\n      </Helmet>\n      \n      <div className=\"d-flex flex-column border-bottom mb-4 align-items-start\">\n        <div className='d-flex flex-row align-items-end w-100'>\n          <h4 className='flex-grow-1'>\n            {course.id}  \n          </h4>\n          <AddDropBtn course={course} preStatus={selected} />\n        </div>\n\n        <h1 className='display-4'>{course.title}</h1>\n      </div>\n      \n      <div className='d-flex flex-column flex-md-row justify-content-around'>\n        <div className=' multiple-lines col-md-6 order-2 order-md-1' style={{paddingLeft: '10px'}}>\n          {getDescription(course)}\n        </div>\n        <div className='flex-grow-1 pb-4 pt-md-0 ms-md-5 order-1 order-md-2'>\n\n          <table className='table table-hover table-bordered'>\n            <tbody>\n              <Row header='Instructor' content={course.instructor} />\n              <Row header='Schedule' content={getSchedule(course)} />\n              <Row header='Location' content={course.location} />\n              <Row header='Categories' content={getCategories(course)} />\n              <Row header='Credits' content={course.credits} />\n              <Row header='OneStop URL' content={<OneStop />} />\n              <Row header='Further notes' content={getNotes(course)} />\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OneCourse\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\n\ninterface IContributor {\n    html_url: string,\n    login: string,\n    contributions: number,\n    avatar_url: string,\n}\n\nconst Contributor = ({ contributor }: {contributor: IContributor}) => {\n    return (\n        <div className='m-3 text-center'>\n            <div className='cont-img rounded-circle overflow-hidden width'>\n                <img className='w-100' src={contributor.avatar_url} alt='Developer avatar'/>\n            </div>\n            <a\n                href={contributor.html_url}\n                className='fw-bold'\n            >\n                {contributor.login}\n            </a >\n            <div>{contributor.contributions} commit(s)</div>\n        </div>\n    )\n}\n\nconst Contributors = () => {\n    const [contributors, setContributors] = useState<IContributor[]>()\n\n    useEffect(() => {\n        axios.get('https://api.github.com/repos/npnkhoi/oneschedule/contributors')\n            .then((res) => {\n                setContributors(res.data)\n            })\n    }, [])\n\n    if (contributors) {\n        return (\n            <div className='d-flex flex-row flex-wrap'>\n                {contributors\n                    .filter(contributor => contributor.login !== 'pazabol')\n                    .map((contributor) => (\n                        <Contributor contributor={contributor} key={contributor.login} />\n                    ))}\n\n            </div>\n        )\n    } else {\n        return (<div>Loading ...</div>)\n    }\n}\n\nexport default Contributors","import React from 'react'\nimport './index.scss'\n\nconst CTA = ({link, text}) => {\n  return (\n    <a href={link} className='text-decoration-none'>\n      <div className='cta my-2'>\n        <div className='text-white fw-bold'>{text}</div>\n      </div>\n    </a>\n  )\n}\n\nexport default CTA\n","import { Helmet } from 'react-helmet'\nimport './index.scss'\nimport Contributors from './Contributors'\nimport CTA from '../utils/CTA'\n\nconst About = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-6'>\n      <Helmet>\n        <title>About</title>\n      </Helmet>\n      <h2 className='my-4'>About this website</h2>\n      <div className='d-flex flex-column flex-md-row align-items-center justify-content-between'>\n        <p>\n          This website is founded by Khoi, a Fulbright CS student. \n          He didn&apos;t like copying class schedule to paper when selecting courses each semester. \n          Therefore, inspired by <a href='https://nusmods.com/'>NUSMods</a>, \n            he built <b>OneSchedule</b> to help visualize <b>schedules</b> in <b>one</b> minute.\n          OneSchedule is not an official channel of Fulbright. \n          It is free, <a href='https://github.com/npnkhoi/oneschedule'>open-source</a>, and maintained by volunteers.\n        </p>\n      </div>\n      <div>\n      \n      <h5>Our team</h5>\n      {/* <div className=\"alert alert-danger w-100\" role=\"alert\">\n        As our team is graduating from Fulbright, we are actively looking for a developer from Fulbright \n        to maintain the website. \n        Email npnkhoi@gmail.com if you are interested!\n      </div> */}\n      <Contributors />\n\n      <h2 className='my-4'>How to thank us</h2>\n      <div className='text-start'>\n      \n        <h5>1. Donate</h5>\n        <p>\n          OneSchedule is free, and will continue to be so. However, it is built entirely by volunteers, who are also busy humans. \n          Therefore, any donation -- big or small -- will be a great encouragement to the developers.\n          Please consider donating to OneSchedule (say, 20K VND) via 2 following channels:\n        </p>\n        <ol className=\"border border-primary rounded py-3\">\n          <li>Vietcombank: 0011004405309 (PHAM LAN PHUONG)\n          </li>\n\n          <li>Momo: 0395128700 (PHAM LAN PHUONG)\n          </li>\n        </ol>\n\n        <p>When you give, don&apos;t forget to leave us a message. Your support will be remembered forever.</p>\n\n        <h5>2. Give feedback</h5>\n        <p>If you find a bug in the app, or simply want to let us know your thoughts, we would love to here it. That is really the easiest way to support this app.</p>\n        <CTA\n          text='Give feedback'\n          link='https://docs.google.com/forms/d/e/1FAIpQLScIRIBsSk_ciXC_peeanPJXyeh7MB56eaGhOvNWWoznSaM_6g/viewform'\n        />\n      </div>\n\n      <h2 className='my-4'>Special thanks to</h2>\n      \n      <ul>\n        <li>Le Thuc Minh Chau for being the first person to support this idea.</li>\n        <li> <a href='https://fullstackopen.com/en/'>Full Stack open course</a> from University of Helsinki for teaching Khoi everything about fullstack web development.</li>\n        <li>The kind reviewers -- Huyen Nguyen, Tuong Minh, Binh Giang, chi Duyen (Ann), Dan Tam & Huy Vu, anh Vu Le, and many more -- for giving their quality feedback.</li>\n      </ul>\n      </div>\n      <div className=\"w-100 ratio ratio-16x9\">\n        <iframe src=\"https://www.youtube.com/embed/UROWh3csqLk\" title=\"YouTube video player\" frameBorder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n      </div>\n    </div>\n  )\n}\n\nexport default About\n","import { Helmet } from \"react-helmet\"\nimport CTA from \"../utils/CTA\"\n\nconst Contribute = () => {\n  return (\n    <div className='d-flex flex-column text-start m-auto col-lg-8'>\n      <Helmet>\n        <title>Contribute</title>\n      </Helmet>\n      <h2 className='mb-4'>Contribute to OneSchedule</h2>\n      <div className='text-start'>\n      \n        <h5>1. Donate</h5>\n        <p>\n          OneSchedule is free, and will continue to be so. However, it is built entirely by volunteers, who are also busy humans. \n          Therefore, any donation -- big or small -- will be a great encouragement to the developers.\n          Please consider donating to OneSchedule (say, 20K VND) via 2 following channels:\n        </p>\n        <ol className=\"border border-primary rounded py-3\">\n          <li>ACB: 7132717 (NGUYEN PHUNG NHAT KHOI, Branch: Nam Sai Gon)\n          </li>\n\n          <li>Momo/Zalopay: 0343059217 (NGUYEN PHUNG NHAT KHOI, don&apos;t judge my avatar)\n          </li>\n        </ol>\n        {/* <p>\n          It works like this: you donate, then we are happy and motivated, then we improve OneSchedule, then you visualize your schedule better, then you are happy, then you approach your Meaning of Life.\n        </p> */}\n        {/* <p>\n          We also need financial support to deliver more features: nicer domain, classroom map, credit planning, course review, and maybe an ecosystem of apps for Fulbright students. \n          See our issues and upcoming features <a href=\"https://github.com/npnkhoi/oneschedule/issues\">here</a>. We simply need extrinsic motivation to deliver them.\n        </p> */}\n        <p>When you give, don&apos;t forget to leave us a message. Your support will be remembered forever.</p>\n        {/* <div className=\"rounded border p-3\">\n        </div> */}\n\n        <h5>2. Give feedback</h5>\n        <p>If you find a bug in the app, or simply want to let us know your thoughts, we would love to here it. That is really the easiest way to support this app.</p>\n        <CTA\n          text='Give feedback'\n          link='https://docs.google.com/forms/d/e/1FAIpQLScIRIBsSk_ciXC_peeanPJXyeh7MB56eaGhOvNWWoznSaM_6g/viewform'\n        />\n        <p>\n          Cheers,\n          <br />\n          Khoi\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default Contribute\n","import { useState } from \"react\"\nimport { Helmet } from \"react-helmet\"\nimport { useSelector } from \"react-redux\"\nimport Select from \"react-select\"\nimport { selectCurrentTerm } from \"../../store/selectors\"\nimport { getRandomColor } from \"../../utils/colors\"\nimport Calendar from \"../Schedule/Calendar\"\n\nconst standardizeRoom = (s) => !s ? '' : s\n    .split('')\n    .filter((char, index) => {\n        if (char == ' ') {\n            if (index > 0 && s[index-1] == '&') return false\n            if (index < s.length - 1 && s[index+1] == '&') return false\n        }\n        return !(char == 's' && index == 9 && s.slice(0, 10) == 'Classrooms');\n    })\n    .join('')\n\nconst Rooms = () => {\n    const [room, setRoom] = useState(null)\n    const allCourses = useSelector(selectCurrentTerm)\n\n    const selectedCourses = !room ? [] : allCourses\n        .filter(course => standardizeRoom(course.location) == room.value)\n        .map(course => ({...course, visible: true, color: getRandomColor()}))\n    const onlyUnique = (value, index, array) => array.indexOf(value) === index\n    \n    const roomList = allCourses\n        .map(course => standardizeRoom(course.location))\n        .filter(onlyUnique)\n        .filter(room => room && room.length <= 32)\n        .map(room => ({label: room, value: room}))\n        .sort((a, b) => a.label.localeCompare(b.label))\n\n    return (\n        <div className='row w-100 m-0'>\n            <Helmet>\n                <title>OneSchedule</title>\n            </Helmet>\n\n            {/* CALENDAR  */}\n            <div className=\"col-lg-9\">\n                <Calendar\n                    selectedCourses={selectedCourses}\n                />\n            </div>\n\n            {/* PERSISTENT INFO BAR - FOR LARGE DEVICES */}\n            <div className=\"d-lg-inline-block d-block order-first col-lg-3 col-12 mb-3\">\n                <Select\n                    options={roomList}\n                    onChange={setRoom} \n                    value={room}\n                    placeholder='Pick a room' />\n            </div>\n        </div>\n    )\n}\n\nexport default Rooms\n","import { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport Select from 'react-select';\nimport { toggleSelection } from '../../store/selectedCoursesSlice';\nimport { useDispatch } from 'react-redux';\n\nfunction EventForm() {\n    const dispatch = useDispatch(); \n\n    // declare event object \n    const [event, setEvent] = useState({\n        eventName: '', \n        daysOccuring: '',\n        startTime: '',\n        endTime: '',\n        description: ''\n    });\n\n    const [selectedDays, setSelectedDays] = useState([]);\n    const [isSubmitted, setIsSubmitted] = useState(false);\n\n    const submitEvent = (e) => {\n        e.preventDefault(); \n\n        const newEventId = 'Personal' + uuidv4();\n\n        // retrieve existing events from local storage\n        const existingEventsJSON = localStorage.getItem('personalPlans');\n        const existingEvents = (existingEventsJSON ?  JSON.parse(existingEventsJSON) : []);\n\n        // create new event object from the form \n        const newEvent = {\n            title: event.eventName, \n            credits: 0,\n            id: newEventId,\n            url: 'https://example.com/',\n            description: event.description,\n            categories: ['Personal'],\n            location: 'Personal',\n            instructor: 'Personal',\n            schedule: event.daysOccuring.split(',').map(\n                day => ({\n                    day: day.trim(), \n                    start_time: event.startTime, \n                    end_time: event.endTime\n                })\n            )\n        };\n\n\n        // add new event to existing events\n        const allEvents = [...existingEvents, newEvent];\n\n\n        localStorage.setItem('personalPlans', JSON.stringify(allEvents));\n        \n        dispatch(toggleSelection(newEvent)) // add to redux store\n        \n        // reset form fields\n        setEvent({\n            eventName: '', \n            daysOccuring: '',\n            startTime: '',\n            endTime: '',\n            description: ''\n        });\n        setSelectedDays([]);\n        setIsSubmitted(true);\n    }\n\n    const recordEventDetails = (e) => {\n        setEvent({ ...event, [e.target.name]: e.target.value });\n    }\n\n    const options = [\n        { value: 'Monday', label: 'Monday' },\n        { value: 'Tuesday', label: 'Tuesday' },\n        { value: 'Wednesday', label: 'Wednesday' },\n        { value: 'Thursday', label: 'Thursday' },\n        { value: 'Friday', label: 'Friday' },\n        { value: 'Saturday', label: 'Saturday' },\n        { value: 'Sunday', label: 'Sunday' },\n      ];\n\n    \n    const handleDaysSelection = selectedOption => {\n        const days = selectedOption.map(option => option.label);\n        const daysString = days.join(', ');\n        setEvent({ ...event, daysOccuring: daysString });\n        setSelectedDays(selectedOption);\n    };\n\n    const handleFocus = () => {\n        setIsSubmitted(false);\n    }\n    \n    return (\n        <div className=\"enforce-size bg-light p-3 border rounded collapse show\"> \n            <h4>Add Your Event </h4> \n            { isSubmitted && \n            <div className='confirm-box p-3 border rounded'>\n                Event has been added to your schedule!\n            </div>\n            }\n            \n            <hr /> \n            <div className=\"d-flex flex-column align-items-center\">\n                \n            </div>\n            <form onSubmit={submitEvent}>\n                <label htmlFor=\"eventName\"> Event name </label> <br />\n                <input \n                    className='input' \n                    type=\"text\" \n                    name=\"eventName\" \n                    value={event.eventName} \n                    placeholder=\"Basketball\" \n                    onChange={recordEventDetails} \n                    required \n                    title='Enter name of event'\n                    onFocus={handleFocus}\n                /> <br />\n\n                {/* <label htmlFor=\"daysOccuring\"> Days Occurring </label> <br />\n                <input className='input' type=\"text\" name=\"daysOccuring\" value={event.daysOccuring} placeholder=\"Monday, Friday\" onChange={recordEventDetails} required /> <br /> */}\n\n                <label htmlFor=\"daysOccuring\"> Days Occurring </label> <br />\n                <div className='multi-input'>\n                    <Select\n                        isMulti\n                        name=\"daysOccuring\"\n                        options={options}\n                        className='basic-multi-select'\n                        classNamePrefix='select'\n                        onChange = {handleDaysSelection}\n                        onFocus={handleFocus}\n                        value = {selectedDays}\n                        title='Select the days of a week the event will occur'\n                        required\n                    />\n                </div>\n\n                <label htmlFor=\"description\">Description</label> <br /> \n                <input \n                    className='input' \n                    type=\"text\" \n                    name=\"description\" \n                    value={event.description} \n                    placeholder=\"Basketball practice\" \n                    onChange={recordEventDetails} \n                    title='(Optional) Provide a short description'\n                    onFocus={handleFocus}\n                /> <br />\n                \n                <div className='time-picker-row'>\n                    <label htmlFor=\"startTime\"> Start Time </label> \n                    <label htmlFor=\"endTime\" > End Time </label> \n                </div>\n                <div className='time-picker-row'>\n                    <input \n                        className='input' \n                        type=\"time\" \n                        name=\"startTime\" \n                        value={event.startTime} \n                        onChange={recordEventDetails} \n                        // placeholder='09:00 AM'\n                        title='e.g. 09:00 AM'\n                        onFocus={handleFocus}\n                        required \n                    />\n                    <input \n                        className='input' \n                        type=\"time\" \n                        name=\"endTime\" \n                        value={event.endTime} \n                        onChange={recordEventDetails} \n                        // placeholder='04:30 PM'\n                        title='e.g. 04:30 PM'\n                        onFocus={handleFocus}\n                        required \n                    />\n                </div>\n                \n                <br />\n                <button type=\"submit\" className=\"btn btn-primary mb-3\">Add Event</button>\n\n            </form>\n        </div>\n    )\n}\n\nexport default EventForm;","import { Helmet } from 'react-helmet'\nimport './index.scss'\nimport EventForm from './EventForm'\n\nconst CustomSchedule = () => {\n    return (\n        <div>\n            <Helmet>\n                <title>Custom Schedule</title>\n            </Helmet>\n\n            <h2> (BETA) Your personal schedule</h2>\n            <p>Select or add a new schedule of your own to make the course selection process easier. <br />             \n            These schedules are only visible to you, and if you clear your browser cache, it will disappear.</p>\n\n            <div className=\"event-form\">\n                <EventForm />\n            </div>\n        </div>\n    )\n}\n\nexport default CustomSchedule","import { Switch, Route, useRouteMatch, useParams } from 'react-router-dom'\nimport Schedule from '../Schedule';\nimport Offerings from '../Offerings';\nimport OneCourse from '../Offerings/OneCourse';\nimport About from '../About';\nimport Contribute from '../Contribute';\nimport './Main.scss'\nimport Rooms from '../Rooms/index';\nimport CustomSchedule from '../CustomSchedule';\n\nconst Main = () => {\n  return (\n    <div className='main w-100 text-center'>\n      <div className='container-fluid py-3'>\n        <Switch>\n          <Route path='/about'>\n            <About />\n          </Route>\n          <Route path='/contribute'>\n            <Contribute />\n          </Route>\n          <Route path='/courses/:id'>\n            <OneCourse />\n          </Route>\n          <Route path='/courses'>\n            <Offerings />\n          </Route>\n          <Route path='/rooms'>\n            <Rooms />\n          </Route>\n          \n          <Route path='/custom-schedule'>\n            <CustomSchedule />\n          </Route>\n\n          <Route path='/'>\n            <Schedule />\n          </Route>\n\n        </Switch>\n      </div>\n    </div>\n  )\n}\n\nexport default Main","import React from 'react'\n// import config from '../utils/config'\nimport './Footer.scss'\n\nconst Footer = () => (\n  <div className='d-flex flex-column align-items-center justify-content-center text-center text-white bg-dark py-5'>\n    <span>\n      Designed and built with love by OneSchedule Team.\n    </span>\n    <span>\n      Copyright  2021 - Present, OneSchedule.\n    </span>\n    <div>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://github.com/npnkhoi/oneschedule\">Github</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://www.facebook.com/fuv.oneschedule\">Facebook</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.notion.site/OneSchedule-Updates-c3ce635ee748488a9fa33ecb925e3bdb\">Updates</a>\n      <a className='me-3 text-decoration-none text-secondary'href=\"https://npnkhoi.github.io/#/\">Author</a>\n    </div>\n  </div>\n)\n\nexport default Footer\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport {availableTerms} from '../data'\nimport config from \"../utils/config\";\n\nconst term = createSlice({\n  name: 'term',\n  initialState: {\n    value: config.currentTerm\n  },\n  reducers: {\n    set: (state, action) => {\n      state.value = action.payload\n    },\n    forward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos + 1 < availableTerms.length) {\n        state.value = availableTerms[pos + 1]\n      }\n    },\n    backward: (state) => {\n      const pos = availableTerms.indexOf(state.value)\n      if (pos > 0) {\n        state.value = availableTerms[pos - 1]\n      }\n    }\n  }\n})\n\nexport default term.reducer\nexport const {forward, backward} = term.actions","import { availableTerms } from \"../data\";\n\nexport const getTermId = (term: string) => availableTerms.indexOf(term)\n\nexport const prettyTerm = (term: string) => {\n  const mid = term.search(/\\d/)\n  const head = term.slice(0, mid)\n  const tail = term.slice(mid)\n  return head + ', ' + tail\n}","import { useDispatch, useSelector } from 'react-redux'\nimport { backward, forward } from '../../store/termSlice'\nimport { selectTerm } from '../../store/selectors'\nimport { getTermId, prettyTerm } from '../../utils/term'\nimport { availableTerms } from '../../data'\nimport './TermSwitch.scss'\n\nconst TermSwitch = () => {\n  const term = useSelector(selectTerm)\n  const termId = getTermId(term)\n  const dispatch = useDispatch()\n\n  const isFirst = termId == 0\n  const isLast = termId == availableTerms.length - 1\n  \n\n  return (\n    <div className=\"d-flex flex-row align-items-center text-light border border-light rounded\"\n      aria-label='term switch'\n    >\n      <button className='btn btn-dark'\n        disabled={isFirst}\n        onClick={() => dispatch(backward())}\n      >\n        <i className='fas fa-angle-left '/>\n      </button>\n\n      <span className='flex-grow-1 text-center mx-3'> {prettyTerm(term)}</span>\n\n      <button className='btn btn-dark'\n        disabled={isLast}\n        onClick={() => dispatch(forward())}\n        aria-label='next term'\n      >\n        <i className='fas fa-angle-right '/>\n      </button>\n    </div>\n  )\n}\n\nexport default TermSwitch","import moment from \"moment\"\nimport { Link, useLocation } from \"react-router-dom\"\nimport config from \"../../utils/config\"\nimport TermSwitch from '../utils/TermSwitch'\nimport './TopNav.scss'\n\ninterface NavLinkProps {\n  label: string,\n  path: string,\n  icon: string,\n  isNew?: boolean\n}\n\nconst RedDot = () => {\n  const styles = {\n    width: 12,\n    height: 12,\n    top: -5\n  }\n  return (\n    <div \n      style={styles} \n      className='rounded-circle bg-secondary color-red-300 position-relative'\n    />\n  )\n}\n\nconst NavLink = ({label, path, icon, isNew}: NavLinkProps) => {\n    const location = useLocation()\n    \n    // Detect current view for highlighting\n    const isCurrentView = ('/' + location.pathname.split('/')[1]) === path\n\n\n    return (\n      <Link to={path}\n        className={`nav-item nav-link text-decoration-none p-2 me-3\n          ${(isCurrentView ? 'active' : '')}\n        `}\n      >\n        <div className=\"d-flex flex-row align-items-center\">\n          <i className={`${icon} fa me-2 nav-icon text-center`}/>\n          <span>{label}</span>\n          {isNew ? <RedDot /> : null}\n        </div>\n      </Link>\n    )\n  }\n  \n\nconst TopNav = () => {\n    return <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\n        <div className=\"container-fluid\">\n            <Link to='/' className=\"navbar-brand\">OneSchedule</Link>\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                <div className=\"navbar-nav\">\n                    <NavLink label='Schedule' path='/' icon='far fa-calendar'/>\n                    <NavLink label='Courses' path='/courses' icon='fas fa-book-open'/>\n                    <NavLink label='Rooms' path='/rooms' icon='fas fa-door-open'/>\n                    <NavLink label='Custom Schedule' path='/custom-schedule' icon='fas fa-star'/>\n                    <NavLink label='About' path='/about' icon='fas fa-info'/>\n                    <div className=\"nav-item\">\n                      <TermSwitch />\n                    </div>\n                    <div className=\"text-white m-auto px-3 py-2 fst-italic\">Updated {moment(config.last_updated).fromNow()}</div>\n                </div>\n            </div>\n        </div>\n    </nav>\n}\n\nexport default TopNav","import React from 'react'\nimport { HashRouter as Router } from 'react-router-dom'\nimport './App.scss';\nimport Main from './layout/Main';\nimport Footer from './layout/Footer';\nimport TopNav from './layout/TopNav'\n\nfunction App() {\n  return (\n    <Router>\n      <TopNav />\n      <Main />\n      <Footer />\n    </Router>\n  );\n}\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\nimport { loadFromLocalStorage } from '../utils/localStorage'\nimport selectedCoursesReducer from './selectedCoursesSlice'\nimport termReducer from './termSlice'\n\n// const currentVersion = localStorage.getItem('version')\n// if (currentVersion !== config.version) {\n//   console.log('Deleting');\n//   const oldData = localStorage.getItem('persistantState')\n//   const timestamp = moment().format()\n//   localStorage.setItem(timestamp, oldData)\n//   localStorage.removeItem('persistantState')\n//   localStorage.setItem('version', config.version)\n// }\n\nconst store = configureStore({\n  reducer: {\n    selectedCourses: selectedCoursesReducer,\n    term: termReducer\n  },\n  preloadedState: loadFromLocalStorage()\n})\nexport default store\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch","import './styles/main.scss'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport store from './store'\nimport {Provider} from 'react-redux'\nimport { saveToLocalStorage } from './utils/localStorage';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nstore.subscribe(() => saveToLocalStorage(store.getState()));\n"],"sourceRoot":""}